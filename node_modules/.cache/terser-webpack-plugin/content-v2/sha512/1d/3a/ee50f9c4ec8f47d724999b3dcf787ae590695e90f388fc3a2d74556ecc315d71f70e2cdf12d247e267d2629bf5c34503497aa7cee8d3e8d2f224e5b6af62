{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-e201f9ec\",\"chunk-30dcddac\",\"chunk-f6446a4e\"],{1338:function(e,t,s){\"use strict\";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"Row\",{staticClass:\"header\"},[a(\"img\",{attrs:{src:s(\"578e\"),width:\"220px\"}}),a(\"div\",{staticClass:\"description\"},[e._v(e._s(e.$t(\"baobao\")))])])],1)},n=[],o={name:\"header\"},r=o,i=(s(\"811f\"),s(\"2877\")),c=Object(i[\"a\"])(r,a,n,!1,null,null,null);t[\"default\"]=c.exports},\"4fde\":function(e,t,s){\"use strict\";var a=s(\"7669\"),n=s.n(a);n.a},\"578e\":function(e,t,s){e.exports=s.p+\"static/img/baobao.21cd48a1.png\"},7669:function(e,t,s){},\"811f\":function(e,t,s){\"use strict\";var a=s(\"9c1a\"),n=s.n(a);n.a},\"9c1a\":function(e,t,s){},a214:function(e,t,s){},a55b:function(e,t,s){\"use strict\";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"login\"},[s(\"Row\",{attrs:{type:\"flex\",justify:\"center\",align:\"middle\"},nativeOn:{keydown:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.submitLogin(t)}}},[s(\"Col\",{staticStyle:{width:\"368px\"}},[s(\"Header\"),s(\"Row\",[s(\"Tabs\",[s(\"TabPane\",{attrs:{label:e.$t(\"usernameLogin\"),name:\"username\",icon:\"md-person\"}},[s(\"Form\",{ref:\"usernameLoginForm\",staticClass:\"form\",attrs:{model:e.form,rules:e.rules}},[s(\"FormItem\",{attrs:{prop:\"username\"}},[s(\"Input\",{attrs:{prefix:\"ios-contact\",size:\"large\",clearable:\"\",placeholder:\"请输入用户名\",autocomplete:\"off\"},model:{value:e.form.username,callback:function(t){e.$set(e.form,\"username\",t)},expression:\"form.username\"}})],1),s(\"FormItem\",{attrs:{prop:\"password\"}},[s(\"Input\",{attrs:{type:\"password\",prefix:\"ios-lock\",size:\"large\",clearable:\"\",placeholder:\"请输入密码\",autocomplete:\"off\"},model:{value:e.form.password,callback:function(t){e.$set(e.form,\"password\",t)},expression:\"form.password\"}})],1)],1)],1)],1),s(\"Row\",[s(\"Button\",{staticClass:\"login-btn\",attrs:{type:\"primary\",size:\"large\",loading:e.loading,long:\"\"},on:{click:e.submitLogin}},[e.loading?s(\"span\",[e._v(e._s(e.$t(\"logining\")))]):s(\"span\",[e._v(e._s(e.$t(\"login\")))])])],1)],1)],1),s(\"LangSwitch\")],1)],1)},n=[],o=s(\"365c\"),r=s(\"a78e\"),i=s.n(r),c=s(\"1338\"),l=s(\"ab7e\"),u=s(\"c276\"),m={components:{LangSwitch:l[\"default\"],Header:c[\"default\"]},data:function(){return{captchaId:\"\",captchaImg:\"\",loadingCaptcha:!0,error:!1,saveLogin:!0,getSms:\"获取验证码\",loading:!1,sending:!1,errorCode:\"\",form:{username:\"\",password:\"\",code:\"\"},rules:{username:[{required:!0,message:\"账号不能为空\",trigger:\"blur\"}],password:[{required:!0,message:\"密码不能为空\",trigger:\"blur\"}],imgCode:[{required:!1,message:\"验证码不能为空\",trigger:\"blur\"}]}}},methods:{getCaptchaImg:function(){var e=this;this.loadingCaptcha=!0,Object(o[\"vb\"])().then((function(t){e.loadingCaptcha=!1,t.success&&(e.captchaId=t.result,e.captchaImg=o[\"C\"]+e.captchaId)}))},submitLogin:function(){var e=this;this.$refs.usernameLoginForm.validate((function(t){t&&(e.loading=!0,Object(o[\"xb\"])({username:e.form.username,password:e.form.password,code:e.form.imgCode,captchaId:e.captchaId,saveLogin:e.saveLogin}).then((function(t){t.success?(console.log(t),e.setStore(\"accessToken\",t.result),i.a.set(\"lastLoginUser\",e.form.username),i.a.set(e.form.username,e.form.password,{expires:7}),console.log(e.getStore(\"accessToken\")),Object(o[\"Xb\"])().then((function(t){if(t.success){delete t.result.permissions;var s=[];t.result.roles.forEach((function(e){s.push(e.name)})),e.setStore(\"roles\",s),e.setStore(\"saveLogin\",e.saveLogin),e.saveLogin?i.a.set(\"userInfo\",JSON.stringify(t.result),{expires:7}):i.a.set(\"userInfo\",JSON.stringify(t.result)),e.setStore(\"userInfo\",t.result),e.$store.commit(\"setAvatarPath\",t.result.avatar),u[\"a\"].initRouter(e),e.$router.push({name:\"home_index\"})}else e.loading=!1}))):e.loading=!1})))}))},getCookie:function(){this.form.username=i.a.get(\"lastLoginUser\"),this.form.username&&(this.form.password=i.a.get(this.form.username))}},mounted:function(){this.getCookie()}},d=m,f=(s(\"4fde\"),s(\"2877\")),g=Object(f[\"a\"])(d,a,n,!1,null,null,null);t[\"default\"]=g.exports},ab7e:function(e,t,s){\"use strict\";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"lang-icon\"},[s(\"Dropdown\",{on:{\"on-click\":e.langChange}},[s(\"Icon\",{attrs:{type:\"md-globe\",size:\"24\"}}),s(\"DropdownMenu\",{attrs:{slot:\"list\"},slot:\"list\"},[s(\"DropdownItem\",{attrs:{name:\"zh-CN\"}},[e._v(\"简体中文\")]),s(\"DropdownItem\",{attrs:{name:\"en-US\"}},[e._v(\"English\")])],1)],1)],1)},n=[],o={name:\"langSwitch\",methods:{langChange:function(e){this.$i18n.locale=e,this.$store.commit(\"switchLang\",e)}}},r=o,i=(s(\"fac3\"),s(\"2877\")),c=Object(i[\"a\"])(r,a,n,!1,null,null,null);t[\"default\"]=c.exports},fac3:function(e,t,s){\"use strict\";var a=s(\"a214\"),n=s.n(a);n.a}}]);","extractedComments":[]}