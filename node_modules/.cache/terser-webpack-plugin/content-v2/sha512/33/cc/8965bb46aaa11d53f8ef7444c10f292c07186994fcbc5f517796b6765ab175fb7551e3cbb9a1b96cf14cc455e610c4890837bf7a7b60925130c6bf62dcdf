{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-95f8505c\",\"chunk-46080d9e\",\"chunk-4de07ef0\"],{\"2aff\":function(e,t,s){},\"3f54\":function(e,t,s){},4265:function(e,t,s){\"use strict\";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"own-space\"},[s(\"Card\",{staticClass:\"own-space-new\"},[s(\"div\",{staticClass:\"own-wrap\"},[s(\"div\",{staticStyle:{width:\"240px\"}},[s(\"Menu\",{attrs:{\"active-name\":\"基本信息\",theme:\"light\"},on:{\"on-select\":e.changeMenu}},[s(\"MenuItem\",{attrs:{name:\"基本信息\"}},[e._v(\"基本信息\")]),s(\"MenuItem\",{attrs:{name:\"安全设置\"}},[e._v(\"安全设置\")])],1)],1),s(\"div\",{staticStyle:{padding:\"8px 40px\",width:\"100%\"}},[s(\"div\",{staticClass:\"title\"},[e._v(e._s(e.currMenu))]),s(\"div\",[s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"基本信息\"==e.currMenu,expression:\"currMenu=='基本信息'\"}]},[s(\"Form\",{ref:\"userForm\",attrs:{model:e.userForm,\"label-width\":90,\"label-position\":\"left\"}},[s(\"FormItem\",{attrs:{label:\"用户头像：\"}},[s(\"upload-pic-thumb\",{ref:\"uploadThumb\",attrs:{multiple:!1},on:{\"on-change\":function(t){e.userForm.avatar=t}}})],1),s(\"FormItem\",{attrs:{label:\"昵称：\",prop:\"nickName\"}},[s(\"Input\",{staticStyle:{width:\"250px\"},model:{value:e.userForm.nickName,callback:function(t){e.$set(e.userForm,\"nickName\",t)},expression:\"userForm.nickName\"}})],1),s(\"FormItem\",{attrs:{label:\"电话：\",prop:\"mobile\"}},[s(\"Input\",{staticStyle:{width:\"250px\"},model:{value:e.userForm.mobile,callback:function(t){e.$set(e.userForm,\"mobile\",t)},expression:\"userForm.mobile\"}})],1),s(\"FormItem\",{attrs:{label:\"邮箱：\",prop:\"email\"}},[s(\"Input\",{staticStyle:{width:\"250px\"},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,\"email\",t)},expression:\"userForm.email\"}})],1),s(\"FormItem\",{attrs:{label:\"性别：\"}},[s(\"RadioGroup\",{model:{value:e.userForm.sex,callback:function(t){e.$set(e.userForm,\"sex\",t)},expression:\"userForm.sex\"}},e._l(e.dictSex,(function(t,a){return s(\"Radio\",{key:a,attrs:{label:t.value}},[e._v(e._s(t.title))])})),1)],1),s(\"FormItem\",{attrs:{label:\"个人简介：\",prop:\"description\"}},[s(\"Input\",{staticStyle:{width:\"250px\"},attrs:{type:\"textarea\",autosize:{minRows:3,maxRows:5},placeholder:\"个人简介\"},model:{value:e.userForm.description,callback:function(t){e.$set(e.userForm,\"description\",t)},expression:\"userForm.description\"}})],1),s(\"FormItem\",{attrs:{label:\"国家/地区：\"}},[s(\"Select\",{staticStyle:{width:\"250px\"},model:{value:e.area,callback:function(t){e.area=t},expression:\"area\"}},[s(\"Option\",{attrs:{value:86}},[e._v(\"中国\")])],1)],1),s(\"FormItem\",{attrs:{label:\"所在省市：\"}},[s(\"al-cascader\",{staticStyle:{width:\"250px\"},attrs:{\"data-type\":\"code\",level:\"2\"},on:{\"on-change\":e.changeAddress},model:{value:e.userForm.addressArray,callback:function(t){e.$set(e.userForm,\"addressArray\",t)},expression:\"userForm.addressArray\"}})],1),s(\"FormItem\",{attrs:{label:\"街道地址：\",prop:\"street\"}},[s(\"Input\",{staticStyle:{width:\"250px\"},model:{value:e.userForm.street,callback:function(t){e.$set(e.userForm,\"street\",t)},expression:\"userForm.street\"}})],1),s(\"FormItem\",{attrs:{label:\"用户类型：\"}},[s(\"span\",[e._v(e._s(e.userForm.typeTxt))])]),s(\"FormItem\",{attrs:{label:\"注册时间：\"}},[s(\"span\",[e._v(e._s(e.userForm.createTime))])]),s(\"FormItem\",[s(\"Button\",{staticStyle:{width:\"100px\",\"margin-right\":\"5px\"},attrs:{type:\"primary\",loading:e.saveLoading},on:{click:e.saveEdit}},[e._v(\"保存\")])],1)],1)],1),s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"安全设置\"==e.currMenu,expression:\"currMenu=='安全设置'\"}],staticClass:\"safe\"},[s(\"div\",{staticClass:\"item\"},[s(\"div\",[s(\"div\",{staticClass:\"title\"},[e._v(\"账户密码\")]),e.userForm.passStrength?s(\"div\",{staticClass:\"desc\"},[e._v(\"\\n                  当前密码强度：\\n                  \"),\"弱\"==e.userForm.passStrength?s(\"span\",{staticClass:\"red\"},[e._v(e._s(e.userForm.passStrength))]):e._e(),\"中\"==e.userForm.passStrength?s(\"span\",{staticClass:\"middle\"},[e._v(e._s(e.userForm.passStrength))]):e._e(),\"强\"==e.userForm.passStrength?s(\"span\",{staticClass:\"green\"},[e._v(e._s(e.userForm.passStrength))]):e._e()]):e._e()]),s(\"div\",[s(\"a\",{on:{click:e.changePass}},[e._v(\"修改\")])])])])])])])])],1)},i=[],r=s(\"365c\"),n=s(\"f791\"),o=s(\"9ee7\"),l=s(\"a78e\"),u=s.n(l),c={components:{uploadPicThumb:n[\"default\"],checkPassword:o[\"default\"]},name:\"ownspace_index\",data:function(){return{area:86,userForm:{id:\"\",avatar:\"\",username:\"\",sex:\"\",mobile:\"\",email:\"\",status:\"\",type:\"\",typeTxt:\"\",address:\"\",addressArray:[]},codeError:\"\",initPhone:\"\",initEmail:\"\",saveLoading:!1,sending:!1,jumping:!1,currMenu:\"基本信息\",dictSex:this.$store.state.dict.sex}},methods:{init:function(){var e=JSON.parse(u.a.get(\"userInfo\"));for(var t in e)null==e[t]&&(e[t]=\"\");var s=JSON.stringify(e),a=JSON.parse(s);a.addressArray=[],this.userForm=a,this.$refs.uploadThumb.setData(a.avatar),a.address&&(this.userForm.address=a.address,this.userForm.addressArray=JSON.parse(a.address)),0==this.userForm.type?this.userForm.typeTxt=\"普通用户\":1==this.userForm.type&&(this.userForm.typeTxt=\"管理员\")},changePass:function(){this.$router.push({name:\"change_pass\"})},changeMenu:function(e){this.currMenu=e},saveEdit:function(){var e=this;this.saveLoading=!0;var t=this.userForm;delete t.roles,Object(r[\"Ub\"])(t).then((function(t){e.saveLoading=!1,t.success&&(e.$Message.success(\"保存成功\"),u.a.set(\"userInfo\",e.userForm),e.$store.commit(\"setAvatarPath\",e.userForm.avatar))}))},changeAddress:function(){this.userForm.address=JSON.stringify(this.userForm.addressArray)}},mounted:function(){this.init()}},d=c,p=(s(\"4b1e\"),s(\"2877\")),m=Object(p[\"a\"])(d,a,i,!1,null,\"57b120f6\",null);t[\"default\"]=m.exports},\"4b1e\":function(e,t,s){\"use strict\";var a=s(\"3f54\"),i=s.n(a);i.a},\"9ee7\":function(e,t,s){\"use strict\";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",[s(\"Modal\",{attrs:{title:\"身份验证\",fullscreen:\"\",\"footer-hide\":\"\"},model:{value:e.passCheckVisible,callback:function(t){e.passCheckVisible=t},expression:\"passCheckVisible\"}},[s(\"div\",{staticClass:\"pass-check\",on:{keydown:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.checkPass(t)}}},[s(\"Icon\",{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{type:\"md-lock\",size:\"30\"}}),s(\"div\",{staticClass:\"title\",staticStyle:{\"margin-bottom\":\"40px\"}},[e._v(\"密码认证\")]),s(\"div\",{staticClass:\"desc\"},[e._v(\"请输入您的密码\")]),s(\"Input\",{staticStyle:{width:\"300px\",\"margin-bottom\":\"40px\"},attrs:{autofocus:\"\",size:\"large\",placeholder:\"请输入您的密码\",type:\"password\"},model:{value:e.password,callback:function(t){e.password=t},expression:\"password\"}}),s(\"div\",{staticStyle:{\"margin-bottom\":\"60px\"}},[s(\"Button\",{staticStyle:{\"margin-right\":\"20px\"},attrs:{size:\"large\"},on:{click:function(t){e.passCheckVisible=!1}}},[e._v(\"取消\")]),s(\"Button\",{attrs:{loading:e.loading,disabled:!e.password,type:\"primary\",size:\"large\"},on:{click:e.checkPass}},[e._v(\"提交\")])],1)],1)])],1)},i=[],r=s(\"365c\"),n={name:\"circleLoading\",data:function(){return{loading:!1,passCheckVisible:!1,password:\"\"}},methods:{checkPass:function(){var e=this;this.loading=!0,Object(r[\"Kb\"])({password:this.password}).then((function(t){e.loading=!1,t.success&&(e.passCheckVisible=!1,e.$emit(\"on-success\",!0))}))},show:function(){this.password=\"\",this.passCheckVisible=!0}}},o=n,l=(s(\"e6f6\"),s(\"2877\")),u=Object(l[\"a\"])(o,a,i,!1,null,null,null);t[\"default\"]=u.exports},ae15:function(e,t,s){},d9db:function(e,t,s){\"use strict\";var a=s(\"2aff\"),i=s.n(a);i.a},e6f6:function(e,t,s){\"use strict\";var a=s(\"ae15\"),i=s.n(a);i.a},f791:function(e,t,s){\"use strict\";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",[e._l(e.uploadList,(function(t,a){return s(\"div\",{key:a,staticClass:\"upload-list\"},[\"finished\"==t.status?s(\"div\",[s(\"img\",{attrs:{src:t.url}}),s(\"div\",{staticClass:\"upload-list-cover\"},[s(\"Icon\",{attrs:{type:\"ios-eye-outline\"},on:{click:function(s){return e.handleView(t.url)}}}),s(\"Icon\",{attrs:{type:\"ios-trash-outline\"},on:{click:function(s){return e.handleRemove(t)}}})],1)]):s(\"div\",[t.showProgress?s(\"Progress\",{attrs:{percent:t.percentage,\"hide-info\":\"\"}}):e._e()],1)])})),s(\"Upload\",{ref:\"upload\",staticStyle:{display:\"inline-block\",width:\"58px\"},attrs:{multiple:e.multiple,\"show-upload-list\":!1,\"on-success\":e.handleSuccess,\"on-error\":e.handleError,format:[\"jpg\",\"jpeg\",\"png\",\"gif\"],\"max-size\":5120,\"on-format-error\":e.handleFormatError,\"on-exceeded-size\":e.handleMaxSize,\"before-upload\":e.handleBeforeUpload,type:\"drag\",action:e.uploadFileUrl,headers:e.accessToken}},[s(\"div\",{staticStyle:{width:\"58px\",height:\"58px\",\"line-height\":\"58px\"}},[s(\"Icon\",{attrs:{type:\"md-camera\",size:\"20\"}})],1)]),s(\"Modal\",{attrs:{title:\"图片预览\",styles:{top:\"30px\"},draggable:\"\"},model:{value:e.viewImage,callback:function(t){e.viewImage=t},expression:\"viewImage\"}},[s(\"img\",{staticStyle:{width:\"100%\",margin:\"0 auto\",display:\"block\"},attrs:{src:e.imgUrl,alt:\"无效的图片链接\"}}),s(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[s(\"Button\",{on:{click:function(t){e.viewImage=!1}}},[e._v(\"关闭\")])],1)])],2)},i=[],r=s(\"365c\");function n(e){return n=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},n(e)}var o={name:\"uploadPicThumb\",props:{value:Object,multiple:{type:Boolean,default:!0},limit:{type:Number,default:10}},data:function(){return{accessToken:{},uploadFileUrl:r[\"Qb\"],uploadList:[],viewImage:!1,imgUrl:\"\"}},methods:{init:function(){this.accessToken={accessToken:this.getStore(\"accessToken\")}},handleView:function(e){this.imgUrl=e,this.viewImage=!0},handleRemove:function(e){var t=this.uploadList;this.uploadList.splice(t.indexOf(e),1),this.returnValue()},handleSuccess:function(e,t){e.success?(t.url=e.result,!this.multiple&&this.uploadList.length>0&&this.uploadList.splice(0,1),this.uploadList.push(t),this.returnValue()):this.$Message.error(e.message)},handleError:function(e,t,s){this.$Message.error(e.toString())},handleFormatError:function(e){this.$Notice.warning({title:\"不支持的文件格式\",desc:\"所选文件‘ \"+e.name+\" ’格式不正确, 请选择 .jpg .jpeg .png .gif图片格式文件\"})},handleMaxSize:function(e){this.$Notice.warning({title:\"文件大小过大\",desc:\"所选文件‘ \"+e.name+\" ’大小过大, 不得超过 5M.\"})},handleBeforeUpload:function(){return!(this.multiple&&this.uploadList.length>=this.limit)||(this.$Message.warning(\"最多只能上传\"+this.limit+\"张图片\"),!1)},returnValue:function(){if(!this.uploadList||this.uploadList.length<1)this.multiple?this.$emit(\"on-change\",[]):this.$emit(\"on-change\",\"\");else if(this.multiple){var e=[];this.uploadList.forEach((function(t){e.push(t.url)})),this.$emit(\"on-change\",e)}else{var t=this.uploadList[0].url;this.$emit(\"on-change\",t)}},setData:function(e){var t=this;if(this.multiple&&e.length>this.limit)this.$Message.warning(\"设置图片数据失败，最多只能设置\"+this.limit+\"张图片\");else{if(\"string\"==typeof e){this.uploadList=[];var s={url:e,status:\"finished\"};this.uploadList.push(s)}else\"object\"==n(e)&&(this.uploadList=[],e.forEach((function(e){var s={url:e,status:\"finished\"};t.uploadList.push(s)})));this.returnValue()}}},mounted:function(){this.init()}},l=o,u=(s(\"d9db\"),s(\"2877\")),c=Object(u[\"a\"])(l,a,i,!1,null,null,null);t[\"default\"]=c.exports}}]);","extractedComments":[]}