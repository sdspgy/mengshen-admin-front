{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/server/serverManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/server/serverManager.vue","mtime":1574132205000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {getStopServerInfo, updateStopServerNotice, changeServerState} from \"@/api/index\";\n\nexport default {\n    name: \"serverManager\",\n    data() {\n        return {\n            form: {\n                version: '',\n                appVersion: '',\n                whiteList: '',\n                maintenanceMsg: '',\n                title: '',\n            },\n            isOpenServer: true,\n        }\n    },\n    methods: {\n        init() {\n            getStopServerInfo().then(res => {\n                if (res.status === 200) {\n                    this.form = res.data.announce;\n                    this.isOpenServer = res.data.isOpenServer;\n                }\n            });\n        },\n        updateStopServerNotice() {\n            updateStopServerNotice(this.form).then(res => {\n                if (res.status === 200) {\n                    this.$Message.success('修改成功');\n                    this.form = res.data.announce;\n                }\n            })\n        },\n        changeServerState(isOpen) {\n            this.isOpenServer = isOpen;\n            changeServerState({isOpenServer: this.isOpenServer}).then(res => {\n                if (res.status === 200) {\n                    if (res.data.isOpenServer) {\n                        this.$Message.success('开服');\n                    }else {\n                        this.$Message.error('停服');\n                    }\n                    this.isOpenServer = res.data.isOpenServer;\n                }\n                this.init();\n            })\n        }\n    },\n    mounted() {\n        this.init();\n    }\n}\n",null]}