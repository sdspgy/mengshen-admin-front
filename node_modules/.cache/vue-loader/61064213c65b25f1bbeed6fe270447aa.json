{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/send-mail/sendMail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/send-mail/sendMail.vue","mtime":1574132205000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {sendMail} from \"@/api/index\";\nexport default {\n    name: \"sendMail\",\n    data() {\n        return {\n            form: {\n                userId: '-1',\n                title: '',\n                content: '',\n                type: '1',\n                reward:'',\n            },\n            succ: [],\n            fail: [],\n            disabledInput: true\n        }\n    },\n    methods: {\n        disableUserId(label) {\n            if (label == 1) {\n                this.form.userId = '-1';\n                this.disabledInput = true;\n            } else {\n                this.form.userId = '';\n                this.disabledInput = false;\n            }\n        },\n        onSubmit() {\n            sendMail(this.form).then(res=>{\n                if (res.status === 200){\n                     console.log(res);\n                  \n                    var succCnt = 0;\n                    var failCnt = 0;\n                    if(res.data.succ){\n                        this.succ = res.data.succ;\n                        succCnt = this.succ.length;\n                    }\n\n                    if(res.data.fail){\n                        this.fail = res.data.fail;\n                        failCnt = this.fail.length;\n                    }\n                    this.$Message.success('发送成功'+succCnt+\"个,失败了\"+failCnt+\"个！\");\n                }else if(res.status === -1){\n                    this.$Message.error(res.data);\n                }\n            });\n        }\n    }\n}\n",null]}