{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/libs/util.js","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/libs/util.js","mtime":1574234031039},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport axios from 'axios';\nimport { getMenuList } from '@/api/index';\nimport lazyLoading from './lazyLoading.js';\nimport router from '@/router/index';\nimport Cookies from \"js-cookie\";\nvar util = {};\n\nutil.title = function (title) {\n  title = title || '宝宝超市后台管理系统';\n  window.document.title = title;\n};\n\nutil.inOf = function (arr, targetArr) {\n  var res = true;\n  arr.forEach(function (item) {\n    if (targetArr.indexOf(item) < 0) {\n      res = false;\n    }\n  });\n  return res;\n};\n\nutil.oneOf = function (ele, targetArr) {\n  if (targetArr.indexOf(ele) >= 0) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nutil.getRouterObjByName = function (routers, name) {\n  if (!name || !routers || !routers.length) {\n    return null;\n  } // debugger;\n\n\n  var routerObj = null;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = routers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var item = _step.value;\n\n      if (item.name == name) {\n        return item;\n      }\n\n      routerObj = util.getRouterObjByName(item.children, name);\n\n      if (routerObj) {\n        return routerObj;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return null;\n};\n\nutil.handleTitle = function (vm, item) {\n  if (_typeof(item.title) == 'object') {\n    return vm.$t(item.title.i18n);\n  } else {\n    return item.title;\n  }\n};\n\nutil.setCurrentPath = function (vm, name) {\n  var title = '';\n  var isOtherRouter = false;\n  vm.$store.state.app.routers.forEach(function (item) {\n    if (item.children.length == 1) {\n      if (item.children[0].name == name) {\n        title = util.handleTitle(vm, item);\n\n        if (item.name == 'otherRouter') {\n          isOtherRouter = true;\n        }\n      }\n    } else {\n      item.children.forEach(function (child) {\n        if (child.name == name) {\n          title = util.handleTitle(vm, child);\n\n          if (item.name == 'otherRouter') {\n            isOtherRouter = true;\n          }\n        }\n      });\n    }\n  });\n  var currentPathArr = [];\n\n  if (name == 'home_index') {\n    currentPathArr = [{\n      title: util.handleTitle(vm, util.getRouterObjByName(vm.$store.state.app.routers, 'home_index')),\n      path: '',\n      name: 'home_index'\n    }];\n  } else if ((name.indexOf('_index') >= 0 || isOtherRouter) && name !== 'home_index') {\n    currentPathArr = [{\n      title: util.handleTitle(vm, util.getRouterObjByName(vm.$store.state.app.routers, 'home_index')),\n      path: '/home',\n      name: 'home_index'\n    }, {\n      title: title,\n      path: '',\n      name: name\n    }];\n  } else {\n    var currentPathObj = vm.$store.state.app.routers.filter(function (item) {\n      if (item.children.length <= 1) {\n        return item.children[0].name == name;\n      } else {\n        var i = 0;\n        var childArr = item.children;\n        var len = childArr.length;\n\n        while (i < len) {\n          if (childArr[i].name == name) {\n            return true;\n          }\n\n          i++;\n        }\n\n        return false;\n      }\n    })[0];\n\n    if (currentPathObj.children.length <= 1 && currentPathObj.name == 'home') {\n      currentPathArr = [{\n        title: '首页',\n        path: '',\n        name: 'home_index'\n      }];\n    } else if (currentPathObj.children.length <= 1 && currentPathObj.name !== 'home') {\n      currentPathArr = [{\n        title: '首页',\n        path: '/home',\n        name: 'home_index'\n      }, {\n        title: currentPathObj.title,\n        path: '',\n        name: name\n      }];\n    } else {\n      var childObj = currentPathObj.children.filter(function (child) {\n        return child.name == name;\n      })[0];\n      currentPathArr = [{\n        title: '首页',\n        path: '/home',\n        name: 'home_index'\n      }, {\n        title: currentPathObj.title,\n        path: '',\n        name: currentPathObj.name\n      }, {\n        title: childObj.title,\n        path: currentPathObj.path + '/' + childObj.path,\n        name: name\n      }];\n    }\n  }\n\n  vm.$store.commit('setCurrentPath', currentPathArr);\n  return currentPathArr;\n};\n\nutil.openNewPage = function (vm, name, argu, query) {\n  if (!vm.$store) {\n    return;\n  }\n\n  var pageOpenedList = vm.$store.state.app.pageOpenedList;\n  var openedPageLen = pageOpenedList.length;\n  var i = 0;\n  var tagHasOpened = false;\n\n  while (i < openedPageLen) {\n    if (name == pageOpenedList[i].name) {\n      // 页面已经打开\n      vm.$store.commit('pageOpenedList', {\n        index: i,\n        argu: argu,\n        query: query\n      });\n      tagHasOpened = true;\n      break;\n    }\n\n    i++;\n  }\n\n  if (!tagHasOpened) {\n    var tag = vm.$store.state.app.tagsList.filter(function (item) {\n      if (item.children) {\n        return name == item.children[0].name;\n      } else {\n        return name == item.name;\n      }\n    });\n    tag = tag[0];\n\n    if (tag) {\n      tag = tag.children ? tag.children[0] : tag;\n\n      if (argu) {\n        tag.argu = argu;\n      }\n\n      if (query) {\n        tag.query = query;\n      }\n\n      vm.$store.commit('increateTag', tag);\n    }\n  }\n\n  vm.$store.commit('setCurrentPageName', name);\n};\n\nutil.toDefaultPage = function (routers, name, route, next) {\n  var len = routers.length;\n  var i = 0;\n  var notHandle = true;\n\n  while (i < len) {\n    if (routers[i].name == name && routers[i].children && routers[i].redirect == undefined) {\n      route.replace({\n        name: routers[i].children[0].name\n      });\n      notHandle = false;\n      next();\n      break;\n    }\n\n    i++;\n  }\n\n  if (notHandle) {\n    next();\n  }\n};\n\nutil.fullscreenEvent = function (vm) {\n  vm.$store.commit('initCachepage');\n};\n\nutil.initRouter = function (vm) {\n  var constRoutes = [];\n  var otherRoutes = []; // 404路由需要和动态路由一起加载\n\n  var otherRouter = [{\n    path: '/*',\n    name: 'error-404',\n    meta: {\n      title: '404-页面不存在'\n    },\n    component: 'error-page/404'\n  }]; // 判断用户是否登录\n\n  var userInfo = Cookies.get('userInfo');\n\n  if (!userInfo) {\n    // 未登录\n    return;\n  }\n\n  if (!vm.$store.state.app.added) {\n    // 第一次加载 读取数据\n    var accessToken = window.localStorage.getItem('accessToken'); // 加载菜单\n\n    axios.get(getMenuList, {\n      headers: {\n        'accessToken': accessToken\n      }\n    }).then(function (res) {\n      var menuData = res.result;\n\n      if (!menuData) {\n        return;\n      }\n\n      util.initAllMenuData(constRoutes, menuData);\n      util.initRouterNode(otherRoutes, otherRouter); // 添加所有主界面路由\n\n      vm.$store.commit('updateAppRouter', constRoutes.filter(function (item) {\n        return item.children.length > 0;\n      })); // 添加全局路由\n\n      vm.$store.commit('updateDefaultRouter', otherRoutes); // 添加菜单路由\n\n      util.initMenuData(vm, menuData); // 缓存数据 修改加载标识\n\n      window.localStorage.setItem('menuData', JSON.stringify(menuData));\n      vm.$store.commit('setAdded', true);\n    });\n  } else {\n    // 读取缓存数据\n    var data = window.localStorage.getItem('menuData');\n\n    if (!data) {\n      vm.$store.commit('setAdded', false);\n      return;\n    }\n\n    var menuData = JSON.parse(data); // 添加菜单路由\n\n    util.initMenuData(vm, menuData);\n  }\n}; // 添加所有顶部导航栏下的菜单路由\n\n\nutil.initAllMenuData = function (constRoutes, data) {\n  var allMenuData = [];\n  data.forEach(function (e) {\n    if (e.type == -1) {\n      e.children.forEach(function (item) {\n        allMenuData.push(item);\n      });\n    }\n  });\n  util.initRouterNode(constRoutes, allMenuData);\n}; // 生成菜单格式数据\n\n\nutil.initMenuData = function (vm, data) {\n  var menuRoutes = [];\n  var menuData = data; // 顶部菜单\n\n  var navList = [];\n  menuData.forEach(function (e) {\n    var nav = {\n      name: e.name,\n      title: e.title,\n      icon: e.icon\n    };\n    navList.push(nav);\n  });\n\n  if (navList.length < 1) {\n    return;\n  } // 存入vuex\n\n\n  vm.$store.commit('setNavList', navList);\n  var currNav = window.localStorage.getItem('currNav');\n\n  if (currNav) {\n    // 读取缓存title\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = navList[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var item = _step2.value;\n\n        if (item.name == currNav) {\n          vm.$store.commit('setCurrNavTitle', item.title);\n          break;\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  } else {\n    // 默认第一个\n    currNav = navList[0].name;\n    vm.$store.commit('setCurrNavTitle', navList[0].title);\n  }\n\n  vm.$store.commit('setCurrNav', currNav);\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = menuData[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var item = _step3.value;\n\n      if (item.name == currNav) {\n        // 过滤\n        menuData = item.children;\n        break;\n      }\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  util.initRouterNode(menuRoutes, menuData); // 刷新界面菜单\n\n  vm.$store.commit('updateMenulist', menuRoutes.filter(function (item) {\n    return item.children.length > 0;\n  }));\n  var tagsList = [];\n  vm.$store.state.app.routers.map(function (item) {\n    if (item.children.length <= 1) {\n      tagsList.push(item.children[0]);\n    } else {\n      tagsList.push.apply(tagsList, _toConsumableArray(item.children));\n    }\n  });\n  vm.$store.commit('setTagsList', tagsList);\n}; // 生成路由节点\n\n\nutil.initRouterNode = function (routers, data) {\n  var _iteratorNormalCompletion4 = true;\n  var _didIteratorError4 = false;\n  var _iteratorError4 = undefined;\n\n  try {\n    for (var _iterator4 = data[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n      var item = _step4.value;\n      var menu = Object.assign({}, item); // menu.component = import(`@/views/${menu.component}.vue`);\n\n      menu.component = lazyLoading(menu.component);\n\n      if (item.children && item.children.length > 0) {\n        menu.children = [];\n        util.initRouterNode(menu.children, item.children);\n      }\n\n      var meta = {}; // 给页面添加权限、标题、第三方网页链接\n\n      meta.permTypes = menu.permTypes ? menu.permTypes : null;\n      meta.title = menu.title ? menu.title + \" - 宝宝超市后台管理系统 By: 互爱科技\" : null;\n      meta.url = menu.url ? menu.url : null;\n      menu.meta = meta;\n      routers.push(menu);\n    }\n  } catch (err) {\n    _didIteratorError4 = true;\n    _iteratorError4 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n        _iterator4.return();\n      }\n    } finally {\n      if (_didIteratorError4) {\n        throw _iteratorError4;\n      }\n    }\n  }\n};\n\nutil.formatDate = function (date, fmt) {\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n  }\n\n  var o = {\n    'M+': date.getMonth() + 1,\n    'd+': date.getDate(),\n    'H+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds()\n  };\n\n  for (var k in o) {\n    if (new RegExp(\"(\".concat(k, \")\")).test(fmt)) {\n      var str = o[k] + '';\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str));\n    }\n  }\n\n  return fmt;\n};\n\nfunction padLeftZero(str) {\n  return ('00' + str).substr(str.length);\n}\n/** 时间戳或时间字符串 to 默认格式字符串*/\n\n\nutil.Time2DefaultFormat = function (timeStamp, fmt) {\n  fmt = fmt || 'yyyy-MM-dd HH:mm:ss';\n  return this.formatDate(new Date(timeStamp), fmt);\n};\n\nexport default util;",{"version":3,"sources":["/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/libs/util.js"],"names":["axios","getMenuList","lazyLoading","router","Cookies","util","title","window","document","inOf","arr","targetArr","res","forEach","item","indexOf","oneOf","ele","getRouterObjByName","routers","name","length","routerObj","children","handleTitle","vm","$t","i18n","setCurrentPath","isOtherRouter","$store","state","app","child","currentPathArr","path","currentPathObj","filter","i","childArr","len","childObj","commit","openNewPage","argu","query","pageOpenedList","openedPageLen","tagHasOpened","index","tag","tagsList","toDefaultPage","route","next","notHandle","redirect","undefined","replace","fullscreenEvent","initRouter","constRoutes","otherRoutes","otherRouter","meta","component","userInfo","get","added","accessToken","localStorage","getItem","headers","then","menuData","result","initAllMenuData","initRouterNode","initMenuData","setItem","JSON","stringify","data","parse","allMenuData","e","type","push","menuRoutes","navList","nav","icon","currNav","map","menu","Object","assign","permTypes","url","formatDate","date","fmt","test","RegExp","$1","getFullYear","substr","o","getMonth","getDate","getHours","getMinutes","getSeconds","k","str","padLeftZero","Time2DefaultFormat","timeStamp","Date"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { getMenuList } from '@/api/index';\nimport lazyLoading from './lazyLoading.js';\nimport router from '@/router/index';\nimport Cookies from \"js-cookie\";\n\nlet util = {\n\n};\n\nutil.title = function (title) {\n    title = title || '宝宝超市后台管理系统';\n    window.document.title = title;\n};\n\nutil.inOf = function (arr, targetArr) {\n    let res = true;\n    arr.forEach(item => {\n        if (targetArr.indexOf(item) < 0) {\n            res = false;\n        }\n    });\n    return res;\n};\n\nutil.oneOf = function (ele, targetArr) {\n    if (targetArr.indexOf(ele) >= 0) {\n        return true;\n    } else {\n        return false;\n    }\n};\n\nutil.getRouterObjByName = function (routers, name) {\n    if (!name || !routers || !routers.length) {\n        return null;\n    }\n    // debugger;\n    let routerObj = null;\n    for (let item of routers) {\n        if (item.name == name) {\n            return item;\n        }\n        routerObj = util.getRouterObjByName(item.children, name);\n        if (routerObj) {\n            return routerObj;\n        }\n    }\n    return null;\n};\n\nutil.handleTitle = function (vm, item) {\n    if (typeof item.title == 'object') {\n        return vm.$t(item.title.i18n);\n    } else {\n        return item.title;\n    }\n};\n\nutil.setCurrentPath = function (vm, name) {\n    let title = '';\n    let isOtherRouter = false;\n    vm.$store.state.app.routers.forEach(item => {\n        if (item.children.length == 1) {\n            if (item.children[0].name == name) {\n                title = util.handleTitle(vm, item);\n                if (item.name == 'otherRouter') {\n                    isOtherRouter = true;\n                }\n            }\n        } else {\n            item.children.forEach(child => {\n                if (child.name == name) {\n                    title = util.handleTitle(vm, child);\n                    if (item.name == 'otherRouter') {\n                        isOtherRouter = true;\n                    }\n                }\n            });\n        }\n    });\n    let currentPathArr = [];\n    if (name == 'home_index') {\n        currentPathArr = [\n            {\n                title: util.handleTitle(vm, util.getRouterObjByName(vm.$store.state.app.routers, 'home_index')),\n                path: '',\n                name: 'home_index'\n            }\n        ];\n    } else if ((name.indexOf('_index') >= 0 || isOtherRouter) && name !== 'home_index') {\n        currentPathArr = [\n            {\n                title: util.handleTitle(vm, util.getRouterObjByName(vm.$store.state.app.routers, 'home_index')),\n                path: '/home',\n                name: 'home_index'\n            },\n            {\n                title: title,\n                path: '',\n                name: name\n            }\n        ];\n    } else {\n        let currentPathObj = vm.$store.state.app.routers.filter(item => {\n            if (item.children.length <= 1) {\n                return item.children[0].name == name;\n            } else {\n                let i = 0;\n                let childArr = item.children;\n                let len = childArr.length;\n                while (i < len) {\n                    if (childArr[i].name == name) {\n                        return true;\n                    }\n                    i++;\n                }\n                return false;\n            }\n        })[0];\n        if (currentPathObj.children.length <= 1 && currentPathObj.name == 'home') {\n            currentPathArr = [\n                {\n                    title: '首页',\n                    path: '',\n                    name: 'home_index'\n                }\n            ];\n        } else if (currentPathObj.children.length <= 1 && currentPathObj.name !== 'home') {\n            currentPathArr = [\n                {\n                    title: '首页',\n                    path: '/home',\n                    name: 'home_index'\n                },\n                {\n                    title: currentPathObj.title,\n                    path: '',\n                    name: name\n                }\n            ];\n        } else {\n            let childObj = currentPathObj.children.filter((child) => {\n                return child.name == name;\n            })[0];\n            currentPathArr = [\n                {\n                    title: '首页',\n                    path: '/home',\n                    name: 'home_index'\n                },\n                {\n                    title: currentPathObj.title,\n                    path: '',\n                    name: currentPathObj.name\n                },\n                {\n                    title: childObj.title,\n                    path: currentPathObj.path + '/' + childObj.path,\n                    name: name\n                }\n            ];\n        }\n    }\n    vm.$store.commit('setCurrentPath', currentPathArr);\n\n    return currentPathArr;\n};\n\nutil.openNewPage = function (vm, name, argu, query) {\n    if(!vm.$store){\n        return;\n    }\n    let pageOpenedList = vm.$store.state.app.pageOpenedList;\n    let openedPageLen = pageOpenedList.length;\n    let i = 0;\n    let tagHasOpened = false;\n    while (i < openedPageLen) {\n        if (name == pageOpenedList[i].name) { // 页面已经打开\n            vm.$store.commit('pageOpenedList', {\n                index: i,\n                argu: argu,\n                query: query\n            });\n            tagHasOpened = true;\n            break;\n        }\n        i++;\n    }\n    if (!tagHasOpened) {\n        let tag = vm.$store.state.app.tagsList.filter((item) => {\n            if (item.children) {\n                return name == item.children[0].name;\n            } else {\n                return name == item.name;\n            }\n        });\n        tag = tag[0];\n        if (tag) {\n            tag = tag.children ? tag.children[0] : tag;\n            if (argu) {\n                tag.argu = argu;\n            }\n            if (query) {\n                tag.query = query;\n            }\n            vm.$store.commit('increateTag', tag);\n        }\n    }\n    vm.$store.commit('setCurrentPageName', name);\n};\n\nutil.toDefaultPage = function (routers, name, route, next) {\n    let len = routers.length;\n    let i = 0;\n    let notHandle = true;\n    while (i < len) {\n        if (routers[i].name == name && routers[i].children && routers[i].redirect == undefined) {\n            route.replace({\n                name: routers[i].children[0].name\n            });\n            notHandle = false;\n            next();\n            break;\n        }\n        i++;\n    }\n    if (notHandle) {\n        next();\n    }\n};\n\nutil.fullscreenEvent = function (vm) {\n    vm.$store.commit('initCachepage');\n};\n\nutil.initRouter = function (vm) {\n    const constRoutes = [];\n    const otherRoutes = [];\n\n    // 404路由需要和动态路由一起加载\n    const otherRouter = [{\n        path: '/*',\n        name: 'error-404',\n        meta: {\n            title: '404-页面不存在'\n        },\n        component: 'error-page/404'\n    }];\n    // 判断用户是否登录\n    let userInfo = Cookies.get('userInfo')\n    if (!userInfo) {\n        // 未登录\n        return;\n    }\n    if (!vm.$store.state.app.added) {\n        // 第一次加载 读取数据\n        let accessToken = window.localStorage.getItem('accessToken');\n        // 加载菜单\n        axios.get(getMenuList, { headers: { 'accessToken': accessToken } }).then(res => {\n            let menuData = res.result;\n            if (!menuData) {\n                return;\n            }\n            util.initAllMenuData(constRoutes, menuData);\n            util.initRouterNode(otherRoutes, otherRouter);\n            // 添加所有主界面路由\n            vm.$store.commit('updateAppRouter', constRoutes.filter(item => item.children.length > 0));\n            // 添加全局路由\n            vm.$store.commit('updateDefaultRouter', otherRoutes);\n            // 添加菜单路由\n            util.initMenuData(vm, menuData);\n            // 缓存数据 修改加载标识\n            window.localStorage.setItem('menuData', JSON.stringify(menuData));\n            vm.$store.commit('setAdded', true);\n        });\n    } else {\n        // 读取缓存数据\n        let data = window.localStorage.getItem('menuData');\n        if(!data){\n            vm.$store.commit('setAdded', false);\n            return;\n        }\n        let menuData = JSON.parse(data);\n        // 添加菜单路由\n        util.initMenuData(vm, menuData);\n    }\n};\n\n// 添加所有顶部导航栏下的菜单路由\nutil.initAllMenuData = function (constRoutes, data) {\n\n    let allMenuData = [];\n    data.forEach(e => {\n        if(e.type==-1){\n            e.children.forEach(item=>{\n                allMenuData.push(item);\n            })\n        }\n    })\n    util.initRouterNode(constRoutes, allMenuData);\n}\n\n// 生成菜单格式数据\nutil.initMenuData = function (vm, data) {\n    const menuRoutes = [];\n    let menuData = data;\n    // 顶部菜单\n    let navList = [];\n    menuData.forEach(e => {\n        let nav = {\n            name: e.name,\n            title: e.title,\n            icon: e.icon\n        }\n        navList.push(nav);\n    })\n    if (navList.length < 1) {\n        return;\n    }\n    // 存入vuex\n    vm.$store.commit('setNavList', navList);\n    let currNav = window.localStorage.getItem('currNav')\n    if (currNav) {\n        // 读取缓存title\n        for (var item of navList) {\n            if (item.name == currNav) {\n                vm.$store.commit('setCurrNavTitle', item.title);\n                break;\n            }\n        }\n    } else {\n        // 默认第一个\n        currNav = navList[0].name;\n        vm.$store.commit('setCurrNavTitle', navList[0].title);\n    }\n    vm.$store.commit('setCurrNav', currNav);\n    for (var item of menuData) {\n        if (item.name == currNav) {\n            // 过滤\n            menuData = item.children;\n            break;\n        }\n    }\n    util.initRouterNode(menuRoutes, menuData);\n    // 刷新界面菜单\n    vm.$store.commit('updateMenulist', menuRoutes.filter(item => item.children.length > 0));\n\n    let tagsList = [];\n    vm.$store.state.app.routers.map((item) => {\n        if (item.children.length <= 1) {\n            tagsList.push(item.children[0]);\n        } else {\n            tagsList.push(...item.children);\n        }\n    });\n    vm.$store.commit('setTagsList', tagsList);\n};\n\n// 生成路由节点\nutil.initRouterNode = function (routers, data) {\n\n    for (var item of data) {\n        let menu = Object.assign({}, item);\n        // menu.component = import(`@/views/${menu.component}.vue`);\n        menu.component = lazyLoading(menu.component);\n\n        if (item.children && item.children.length > 0) {\n            menu.children = [];\n            util.initRouterNode(menu.children, item.children);\n        }\n\n        let meta = {};\n        // 给页面添加权限、标题、第三方网页链接\n        meta.permTypes = menu.permTypes ? menu.permTypes : null;\n        meta.title = menu.title ? menu.title + \" - 宝宝超市后台管理系统 By: 互爱科技\" : null;\n        meta.url = menu.url ? menu.url : null;\n        menu.meta = meta;\n\n        routers.push(menu);\n    }\n};\n\nutil.formatDate = function (date, fmt) {\n    if (/(y+)/.test(fmt)) {\n        fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n    }\n    const o = {\n        'M+': date.getMonth() + 1,\n        'd+': date.getDate(),\n        'H+': date.getHours(),\n        'm+': date.getMinutes(),\n        's+': date.getSeconds()\n    };\n    for (let k in o) {\n        if (new RegExp(`(${k})`).test(fmt)) {\n            let str = o[k] + '';\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? str : padLeftZero(str));\n        }\n    }\n    return fmt;\n};\n\nfunction padLeftZero (str) {\n    return ('00' + str).substr(str.length);\n}\n\n/** 时间戳或时间字符串 to 默认格式字符串*/\nutil.Time2DefaultFormat = function (timeStamp, fmt) {\n    fmt = fmt || 'yyyy-MM-dd HH:mm:ss';\n    return this.formatDate(new Date(timeStamp),fmt);\n}\n\nexport default util;\n"]}]}