{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/activity/activity.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/activity/activity.vue","mtime":1574332719565},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { showActs as _showActs, changeAct as _changeAct } from \"@/api/index\";\nimport util from \"../../../libs/util\";\nimport BreadcrumbNav from \"../../main-components/breadcrumb-nav\";\nexport default {\n  name: \"showActs\",\n  components: {\n    BreadcrumbNav: BreadcrumbNav\n  },\n  mounted: function mounted() {\n    this.showActs();\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      columns: [{\n        type: \"index\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"activityId\",\n        key: \"activityId\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", params.row.activityId);\n        }\n      }, {\n        title: \"templateId\",\n        key: \"templateId\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", params.row.templateId);\n        }\n      }, {\n        title: \"status\",\n        key: \"status\",\n        width: 200,\n        align: \"center\"\n      }, {\n        title: \"openTime\",\n        key: \"openTime\",\n        width: 200,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", util.Time2DefaultFormat(params.row.openTime));\n        }\n      }, {\n        title: \"endTime\",\n        key: \"endTime\",\n        width: 200,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", util.Time2DefaultFormat(params.row.endTime));\n        }\n      }, {\n        title: \"操作\",\n        key: \"action\",\n        width: 200,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"info\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.openEditDialog(params.row);\n              }\n            }\n          }, \"编辑\"), h(\"Button\", {\n            props: {\n              type: \"error\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.deleteNotice(params.row.id);\n              }\n            }\n          }, \"删除\")]);\n        }\n      }],\n      activityId: '',\n      templateId: '',\n      activityDuration: [],\n      activities: [],\n      dialogFormVisible: false,\n      disabledDate: {\n        disabledDate: function disabledDate(date) {\n          return date.getTime() < new Date(new Date().toLocaleDateString()).getTime();\n        }\n      }\n    };\n  },\n  methods: {\n    showActs: function showActs() {\n      var _this2 = this;\n\n      _showActs().then(function (res) {\n        if (res.status === 200) {\n          console.log(res.data.activities);\n          _this2.activities = res.data.activities;\n        }\n      });\n    },\n    changeAct: function changeAct() {\n      var _this3 = this;\n\n      _changeAct({\n        activityId: this.activityId,\n        openTime: this.activityDuration[0].getTime(),\n        endTime: this.activityDuration[1].getTime()\n      }).then(function (res) {\n        if (res.status === 200) {\n          console.log(res.data.activities);\n          _this3.activities = res.data.activities;\n        } else {\n          _this3.$Message.error(res.data);\n        }\n\n        _this3.hideDialog();\n      });\n    },\n    hideDialog: function hideDialog() {\n      this.dialogFormVisible = false;\n    },\n    openEditDialog: function openEditDialog(scopeRow) {\n      this.dialogFormVisible = true;\n      this.activityId = scopeRow.activityId;\n      this.templateId = scopeRow.templateId;\n      this.activityDuration.push(new Date(scopeRow.openTime));\n      this.activityDuration.push(new Date(scopeRow.endTime));\n    }\n  }\n};",{"version":3,"sources":["activity.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div>\n  <Row>\n    <Table :columns=\"columns\" :data=\"activities\" ref=\"table\"></Table>\n  </Row>\n  <Modal title=修改数据 v-model=\"dialogFormVisible\" :mask-closable=\"false\" width=\"50%\">\n    <Form :label-width=\"120\">\n      <FormItem label=\"活动id\">\n        <Input v-model=\"activityId\" autocomplete=\"off\" :disabled=\"true\"/>\n      </FormItem>\n      <FormItem label=\"活动xmlid\">\n        <Input v-model=\"templateId\" autocomplete=\"off\" :disabled=\"true\"/>\n      </FormItem>\n      <FormItem label=\"活动起止时间\">\n            <DatePicker v-model=\"activityDuration\"\n                        type=\"datetimerange\"\n                        format=\"yyyy-MM-dd HH:mm:ss\"\n                        placeholder=\"请选择时间日期\"\n                        style=\"width: 50%;max-width: 350px\"\n                        :options=\"disabledDate\">\n            </DatePicker>\n      </FormItem>\n    </Form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <Button @click=\"hideDialog()\">取 消</Button>\n      <Button type=\"primary\" @click=\"changeAct()\">确 定</Button>\n    </div>\n  </Modal>\n</div>\n</template>\n\n<script>\n    import {showActs, changeAct} from \"@/api/index\";\n    import util from \"../../../libs/util\";\n    import BreadcrumbNav from \"../../main-components/breadcrumb-nav\";\n    export default {\n        name: \"showActs\",\n        components: {BreadcrumbNav},\n        mounted() {\n            this.showActs();\n        },\n        data() {\n            return {\n                columns:[\n                    {type: \"index\", width: 60, align: \"center\"},\n                    {title: \"activityId\", key: \"activityId\", width: 100,align: \"center\",render: (h, params) => {return h(\"div\", params.row.activityId);}},\n                    {title: \"templateId\", key: \"templateId\", width: 100,align: \"center\",render: (h, params) => {return h(\"div\", params.row.templateId);}},\n                    {title: \"status\", key: \"status\", width: 200,align: \"center\"},\n                    {title: \"openTime\", key: \"openTime\", width: 200,align: \"center\", render: (h, params) => {return h(\"div\", util.Time2DefaultFormat(params.row.openTime))}},\n                    {title: \"endTime\", key: \"endTime\", width: 200,align: \"center\",render: (h, params) => {return h(\"div\", util.Time2DefaultFormat(params.row.endTime))}},\n                     {title: \"操作\", key: \"action\", width: 200, align: \"center\",\n                        render: (h, params) => {\n                            return h(\"div\", [\n                                h(\"Button\", {props: {type: \"info\", size: \"small\"}, on: {click: () => {this.openEditDialog(params.row);}}}, \"编辑\"),\n                                h(\"Button\", {props: {type: \"error\", size: \"small\"}, on: {click: () => {this.deleteNotice(params.row.id);}}}, \"删除\")]);\n                        }\n                    }\n                    ], \n                \n                activityId: '',\n                templateId: '',\n                activityDuration: [],\n                activities:[],\n                dialogFormVisible: false,\n                 disabledDate: {\n                    disabledDate(date) {\n                        return date.getTime() < new Date(new Date().toLocaleDateString()).getTime();\n                    }\n                }\n            }\n        },\n        methods: {\n            showActs() {\n                showActs().then(res=>{\n                    if (res.status === 200) {\n                        console.log(res.data.activities)\n                        this.activities = res.data.activities;\n                    }\n                })\n            },\n            changeAct() {\n                changeAct({activityId: this.activityId, openTime: this.activityDuration[0].getTime(), endTime: this.activityDuration[1].getTime()}).then(res=>{\n                    if (res.status === 200) {\n                        console.log(res.data.activities)\n                        this.activities = res.data.activities;\n                    }else{\n                       this.$Message.error(res.data); \n                    }\n\n                    this.hideDialog();\n                })\n               \n            },\n            hideDialog() {\n                this.dialogFormVisible = false;\n            },\n            openEditDialog(scopeRow) {\n                this.dialogFormVisible = true;\n                this.activityId = scopeRow.activityId;\n                this.templateId = scopeRow.templateId;\n                this.activityDuration.push(new Date(scopeRow.openTime));\n                this.activityDuration.push(new Date(scopeRow.endTime));\n            },\n        },\n\n    }\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/views/game/activity"}]}