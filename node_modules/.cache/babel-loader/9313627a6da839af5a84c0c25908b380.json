{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/server/serverManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/server/serverManager.vue","mtime":1574132205000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getStopServerInfo, updateStopServerNotice as _updateStopServerNotice, changeServerState as _changeServerState } from \"@/api/index\";\nexport default {\n  name: \"serverManager\",\n  data: function data() {\n    return {\n      form: {\n        version: '',\n        appVersion: '',\n        whiteList: '',\n        maintenanceMsg: '',\n        title: ''\n      },\n      isOpenServer: true\n    };\n  },\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      getStopServerInfo().then(function (res) {\n        if (res.status === 200) {\n          _this.form = res.data.announce;\n          _this.isOpenServer = res.data.isOpenServer;\n        }\n      });\n    },\n    updateStopServerNotice: function updateStopServerNotice() {\n      var _this2 = this;\n\n      _updateStopServerNotice(this.form).then(function (res) {\n        if (res.status === 200) {\n          _this2.$Message.success('修改成功');\n\n          _this2.form = res.data.announce;\n        }\n      });\n    },\n    changeServerState: function changeServerState(isOpen) {\n      var _this3 = this;\n\n      this.isOpenServer = isOpen;\n\n      _changeServerState({\n        isOpenServer: this.isOpenServer\n      }).then(function (res) {\n        if (res.status === 200) {\n          if (res.data.isOpenServer) {\n            _this3.$Message.success('开服');\n          } else {\n            _this3.$Message.error('停服');\n          }\n\n          _this3.isOpenServer = res.data.isOpenServer;\n        }\n\n        _this3.init();\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.init();\n  }\n};",{"version":3,"sources":["serverManager.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,SAAA,iBAAA,EAAA,sBAAA,IAAA,uBAAA,EAAA,iBAAA,IAAA,kBAAA,QAAA,aAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,OAAA,EAAA,EADA;AAEA,QAAA,UAAA,EAAA,EAFA;AAGA,QAAA,SAAA,EAAA,EAHA;AAIA,QAAA,cAAA,EAAA,EAJA;AAKA,QAAA,KAAA,EAAA;AALA,OADA;AAQA,MAAA,YAAA,EAAA;AARA,KAAA;AAUA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AAAA;;AACA,MAAA,iBAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA,CAAA,YAAA;AACA;AACA,OALA;AAMA,KARA;AASA,IAAA,sBATA,oCASA;AAAA;;AACA,MAAA,uBAAA,CAAA,KAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,UAAA,MAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AACA;AACA,OALA;AAMA,KAhBA;AAiBA,IAAA,iBAjBA,6BAiBA,MAjBA,EAiBA;AAAA;;AACA,WAAA,YAAA,GAAA,MAAA;;AACA,MAAA,kBAAA,CAAA;AAAA,QAAA,YAAA,EAAA,KAAA;AAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,YAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,IAAA;AACA,WAFA,MAEA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,IAAA;AACA;;AACA,UAAA,MAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA,CAAA,YAAA;AACA;;AACA,QAAA,MAAA,CAAA,IAAA;AACA,OAVA;AAWA;AA9BA,GAdA;AA8CA,EAAA,OA9CA,qBA8CA;AACA,SAAA,IAAA;AACA;AAhDA,CAAA","sourcesContent":["<template>\n  <div>\n    <Form :model=\"form\" :label-width=\"120\">\n      <FormItem label=\"服务端版本号\">\n        <Input v-model=\"form.version\" autocomplete=\"off\" placeholder=\"请输入服务端版本号\"/>\n      </FormItem>\n\n      <FormItem label=\"app版本号\">\n        <Input v-model=\"form.appVersion\" autocomplete=\"off\" placeholder=\"请输入app版本号\"/>\n      </FormItem>\n\n      <FormItem label=\"停服公告标题\">\n        <Input v-model=\"form.title\" autocomplete=\"off\" placeholder=\"请输入停服公告标题\"/>\n      </FormItem>\n\n      <FormItem label=\"停服公告\">\n        <Input v-model=\"form.maintenanceMsg\" autocomplete=\"off\" type=\"textarea\" placeholder=\"请输入公告内容\"\n               :autosize=\"{ minRows: 3, maxRows: 5}\"/>\n      </FormItem>\n\n      <FormItem label=\"白名单(openid半角逗号分隔)\">\n        <Input v-model=\"form.whiteList\" autocomplete=\"off\" placeholder=\"请输入停服后可进入游戏的白名单openid英文逗号分隔\"/>\n      </FormItem>\n    </Form>\n    <Button type=\"primary\" @click=\"updateStopServerNotice()\">更新停服公告</Button>\n    <br/><br/>\n    <div v-show=\"!isOpenServer\">\n      <h3 style=\"color: #ff0000\">当前处于停服状态</h3>\n      <Button type=\"primary\" @click=\"changeServerState(true)\">开服</Button>\n    </div>\n    <div v-show=\"isOpenServer\">\n      <h3 style=\"color: #1bd70b\">当前处于开服状态</h3>\n      <Button type=\"error\" @click=\"changeServerState(false)\">停服</Button>\n    </div>\n\n\n  </div>\n</template>\n\n<script>\n    import {getStopServerInfo, updateStopServerNotice, changeServerState} from \"@/api/index\";\n\n    export default {\n        name: \"serverManager\",\n        data() {\n            return {\n                form: {\n                    version: '',\n                    appVersion: '',\n                    whiteList: '',\n                    maintenanceMsg: '',\n                    title: '',\n                },\n                isOpenServer: true,\n            }\n        },\n        methods: {\n            init() {\n                getStopServerInfo().then(res => {\n                    if (res.status === 200) {\n                        this.form = res.data.announce;\n                        this.isOpenServer = res.data.isOpenServer;\n                    }\n                });\n            },\n            updateStopServerNotice() {\n                updateStopServerNotice(this.form).then(res => {\n                    if (res.status === 200) {\n                        this.$Message.success('修改成功');\n                        this.form = res.data.announce;\n                    }\n                })\n            },\n            changeServerState(isOpen) {\n                this.isOpenServer = isOpen;\n                changeServerState({isOpenServer: this.isOpenServer}).then(res => {\n                    if (res.status === 200) {\n                        if (res.data.isOpenServer) {\n                            this.$Message.success('开服');\n                        }else {\n                            this.$Message.error('停服');\n                        }\n                        this.isOpenServer = res.data.isOpenServer;\n                    }\n                    this.init();\n                })\n            }\n        },\n        mounted() {\n            this.init();\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/views/game/server"}]}