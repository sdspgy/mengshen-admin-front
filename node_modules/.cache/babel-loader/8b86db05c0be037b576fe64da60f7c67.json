{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/time-manager/timeManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/time-manager/timeManager.vue","mtime":1574132205000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getServerTime as _getServerTime, updateServerTime as _updateServerTime } from \"@/api/index\";\nimport util from \"../../../libs/util\";\nexport default {\n  name: \"timeManager\",\n  data: function data() {\n    return {\n      timeVal: '',\n      nowTimes: [],\n      results: [],\n      nowTimeColumns: [{\n        type: \"index\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"服务器名称\",\n        key: \"name\",\n        align: \"center\",\n        width: 150\n      }, {\n        title: \"服务器地址\",\n        key: \"address\",\n        align: \"center\",\n        width: 150\n      }, {\n        title: \"端口\",\n        key: \"port\",\n        align: \"center\",\n        width: 100\n      }, {\n        title: \"请求url\",\n        key: \"requestUrl\",\n        align: \"center\",\n        width: 200\n      }, {\n        title: \"请求状态\",\n        key: \"success\",\n        align: \"center\",\n        width: 100\n      }, {\n        title: \"时间 or 错误信息\",\n        key: \"msg\",\n        align: \"center\",\n        width: 300,\n        render: function render(h, params) {\n          var msgOrTime = params.row.msg;\n\n          if (params.row.success) {\n            msgOrTime = util.Time2DefaultFormat(JSON.parse(params.row.msg).data.now);\n          }\n\n          return h(\"div\", msgOrTime);\n        }\n      }],\n      resultColumns: [{\n        type: \"index\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"服务器名称\",\n        key: \"name\",\n        align: \"center\",\n        width: 150\n      }, {\n        title: \"服务器地址\",\n        key: \"address\",\n        align: \"center\",\n        width: 150\n      }, {\n        title: \"端口\",\n        key: \"port\",\n        align: \"center\",\n        width: 100\n      }, {\n        title: \"请求url\",\n        key: \"requestUrl\",\n        align: \"center\",\n        width: 200\n      }, {\n        title: \"请求状态\",\n        key: \"success\",\n        align: \"center\",\n        width: 100\n      }, {\n        title: \"返回信息\",\n        key: \"msg\",\n        align: \"center\",\n        width: 300\n      }]\n    };\n  },\n  methods: {\n    getServerTime: function getServerTime() {\n      var _this = this;\n\n      _getServerTime().then(function (res) {\n        _this.timeVal = new Date(JSON.parse(res.nowMaster).data.now);\n        _this.nowTimes = res.nowChildrenTimes;\n      });\n    },\n    updateServerTime: function updateServerTime(reset) {\n      var _this2 = this;\n\n      _updateServerTime({\n        newTime: util.formatDate(new Date(this.timeVal), 'yyyy-MM-dd HH:mm:ss'),\n        reset: reset\n      }).then(function (res) {\n        _this2.results = [];\n\n        _this2.getServerTime();\n\n        _this2.$Message.success(\"操作成功\");\n\n        _this2.results = res.result;\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getServerTime();\n  }\n};",null]}