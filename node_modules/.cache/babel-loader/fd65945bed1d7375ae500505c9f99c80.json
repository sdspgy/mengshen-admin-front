{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/user/allUsers.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/user/allUsers.vue","mtime":1574132205000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { updateUser as _updateUser, getAllUsers, getBags, searchUser as _searchUser, recharge as _recharge, queryStock, updateStock as _updateStock, getItemList as _getItemList, getStaffPostInfo, getAllStaffInfo as _getAllStaffInfo, getStaffInfo as _getStaffInfo, openVip as _openVip, getMarkets as _getMarkets, skipNewGuide as _skipNewGuide } from \"@/api/index\";\nimport util from \"../../../libs/util\";\nimport BreadcrumbNav from \"../../main-components/breadcrumb-nav\";\nexport default {\n  name: \"allUsers\",\n  components: {\n    BreadcrumbNav: BreadcrumbNav\n  },\n  mounted: function mounted() {\n    this.getUsers();\n    this.getItemList();\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      columns: [{\n        type: \"index\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"id\",\n        key: \"id\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", params.row.user.id);\n        }\n      }, {\n        title: \"openid\",\n        key: \"openid\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", params.row.user.openid);\n        }\n      }, {\n        title: \"accessToken\",\n        key: \"accessToken\",\n        width: 200,\n        align: \"center\"\n      }, {\n        title: \"昵称\",\n        key: \"nickName\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", params.row.user.nickName);\n        }\n      }, {\n        title: \"金币\",\n        key: \"gold\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", params.row.user.gold);\n        }\n      }, {\n        title: \"钻石\",\n        key: \"diamond\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", params.row.user.diamond);\n        }\n      }, {\n        title: \"等级\",\n        key: \"level\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", params.row.user.level);\n        }\n      }, {\n        title: \"头像\",\n        key: \"avatar\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"Avatar\", {\n            props: {\n              src: params.row.user.avatar\n            }\n          });\n        }\n      }, {\n        title: \"创建时间\",\n        key: \"createTime\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", util.Time2DefaultFormat(params.row.user.createTime));\n        }\n      }, {\n        title: \"修改数据\",\n        key: \"action\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"primary\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.openDialog(params.row.user.id);\n              }\n            }\n          }, \"修改数据\")]);\n        }\n      }, {\n        title: \"vip\",\n        key: \"action\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"primary\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.openDialog9(params.row.user.id, params.row.vip);\n              }\n            }\n          }, \"vip信息\")]);\n        }\n      }, {\n        title: \"股票管理\",\n        key: \"action\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"primary\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.openDialog4(params.row.user.id);\n              }\n            }\n          }, \"股票管理\")]);\n        }\n      }, {\n        title: \"查看背包\",\n        key: \"action\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"primary\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.openDialog2(params.row.user.id);\n              }\n            }\n          }, \"查看背包\")]);\n        }\n      }, {\n        title: \"员工\",\n        key: \"action\",\n        width: 200,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"primary\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.openDialog5(params.row.user.id);\n              }\n            }\n          }, \"上岗员工\"), h(\"Button\", {\n            props: {\n              type: \"primary\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.openDialog6(params.row.user.id);\n              }\n            }\n          }, \"所有员工\")]);\n        }\n      }, {\n        title: \"店铺信息\",\n        key: \"action\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"primary\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.openDialog8(params.row.user.id);\n              }\n            }\n          }, \"查看店铺\")]);\n        }\n      }],\n      columnsWithBag: [{\n        type: \"index\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"xmlId\",\n        key: \"xmlId\",\n        width: 100,\n        align: \"center\"\n      }, {\n        title: \"数量\",\n        key: \"num\",\n        width: 100,\n        align: \"center\"\n      }, {\n        title: \"名字\",\n        key: \"name\",\n        width: 180,\n        align: \"center\"\n      }],\n      columnsWithStock: [{\n        type: \"index\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"角色ID\",\n        key: \"stockId\",\n        width: 100,\n        align: \"center\"\n      }, {\n        title: \"数量\",\n        key: \"num\",\n        width: 100,\n        align: \"center\"\n      }],\n      columnsWithPosts: [{\n        title: \"岗位\",\n        key: \"positionId\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          var p = '';\n\n          switch (params.row.positionId) {\n            case 0:\n              p = '收银员';\n              break;\n\n            case 1:\n              p = '售货员';\n              break;\n\n            case 2:\n              p = '招揽员';\n              break;\n\n            case 3:\n              p = '理货员';\n              break;\n\n            default:\n              p = '未知';\n          }\n\n          return h(\"div\", p);\n        }\n      }, {\n        title: \"是否有新岗位\",\n        key: \"hasNewPos\",\n        width: 120,\n        align: \"center\"\n      }, {\n        title: \"岗位总分\",\n        key: \"sumScore\",\n        width: 120,\n        align: \"center\"\n      }, {\n        title: \"岗位员工ID(点击员工查看员工详情)\",\n        key: \"staffIds\",\n        width: 300,\n        align: \"center\",\n        render: function render(h, params) {\n          var handles = [];\n          params.row.staffIds.forEach(function (o) {\n            if (o > 0) {\n              handles.push(h(\"Button\", {\n                props: {\n                  size: \"small\"\n                },\n                style: {\n                  marginRight: \"5px\"\n                },\n                on: {\n                  click: function click() {\n                    _this.openDialog7(o);\n                  }\n                }\n              }, o));\n            }\n          });\n          return h(\"div\", handles);\n        }\n      }],\n      columnsWithAllStaff: [{\n        type: \"index\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"xmlId\",\n        key: \"xmlId\",\n        width: 100,\n        align: \"center\"\n      }, {\n        title: \"staffId\",\n        key: \"staffId\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"isNew\",\n        key: \"isNew\",\n        width: 80,\n        align: \"center\"\n      }, {\n        title: \"等级\",\n        key: \"level\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"unique\",\n        key: \"unique\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"灵巧\",\n        key: \"patience\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"智慧\",\n        key: \"intelligence\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"亲和\",\n        key: \"glamour\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"体力\",\n        key: \"power\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"操作\",\n        key: \"action\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"primary\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.openDialog7(params.row.staffId);\n              }\n            }\n          }, \"员工详情\")]);\n        }\n      }],\n      columnsWithShelves: [{\n        type: \"index\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"id\",\n        key: \"id\",\n        width: 100,\n        align: \"center\"\n      }, {\n        title: \"x坐标\",\n        key: \"x\",\n        width: 80,\n        align: \"center\"\n      }, {\n        title: \"y坐标\",\n        key: \"y\",\n        width: 80,\n        align: \"center\"\n      }, {\n        title: \"xmlId\",\n        key: \"xmlId\",\n        width: 100,\n        align: \"center\"\n      }, {\n        title: \"名称\",\n        width: 120,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", _this.decoShopFilter(params.row.xmlId));\n        }\n      }, {\n        title: \"人气值\",\n        width: 80,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", _this.decoShop2Popularity(params.row.xmlId));\n        }\n      }, {\n        title: \"旋转\",\n        key: \"reversal\",\n        width: 80,\n        align: \"center\"\n      }, {\n        title: \"金币收益\",\n        key: \"goldIncome\",\n        width: 100,\n        align: \"center\"\n      }, {\n        title: \"开始时间\",\n        key: \"startTime\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", params.row.startTime ? util.Time2DefaultFormat(params.row.startTime) : '');\n        }\n      }, {\n        title: \"sumExp\",\n        key: \"sumExp\",\n        width: 100,\n        align: \"center\"\n      }, {\n        title: \"售卖货物\",\n        key: \"warehouseProductStr\",\n        width: 60,\n        align: \"center\"\n      }],\n      columnsWithWallDeco: [{\n        type: \"index\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"id\",\n        key: \"id\",\n        width: 100,\n        align: \"center\"\n      }, {\n        title: \"x坐标\",\n        key: \"x\",\n        width: 80,\n        align: \"center\"\n      }, {\n        title: \"y坐标\",\n        key: \"y\",\n        width: 80,\n        align: \"center\"\n      }, {\n        title: \"xmlId\",\n        key: \"xmlId\",\n        width: 100,\n        align: \"center\"\n      }, {\n        title: \"名称\",\n        width: 120,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", _this.decoShopFilter(params.row.xmlId));\n        }\n      }, {\n        title: \"人气值\",\n        width: 80,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", _this.decoShop2Popularity(params.row.xmlId));\n        }\n      }, {\n        title: \"旋转\",\n        key: \"reversal\",\n        width: 100,\n        align: \"center\"\n      }],\n      isOpenFloors: false,\n      columnsWithFloors: [{\n        type: \"index\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"id\",\n        key: \"id\",\n        width: 100,\n        align: \"center\"\n      }, {\n        title: \"x坐标\",\n        width: 80,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", Math.floor(params.row.id / 1000));\n        }\n      }, {\n        title: \"y坐标\",\n        width: 80,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", params.row.id % 1000);\n        }\n      }, {\n        title: \"xmlId\",\n        key: \"xmlId\",\n        width: 100,\n        align: \"center\"\n      }, {\n        title: \"名称\",\n        width: 120,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", _this.decoShopFilter(params.row.xmlId));\n        }\n      }, {\n        title: \"人气值\",\n        width: 80,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", _this.decoShop2Popularity(params.row.xmlId));\n        }\n      }],\n      posts: [],\n      allStaff: [],\n      users: [],\n      vipInfo: {},\n      markets: [],\n      currMarket: 0,\n      loading: true,\n      updateUserLoading: false,\n      pagesize: 10,\n      currentpage: 1,\n      total: 0,\n      staffPagesize: 10,\n      staffCurrentpage: 1,\n      staffTotal: 0,\n      form: {\n        userId: '',\n        diamond: '',\n        gold: '',\n        level: '',\n        exp: '',\n        extendLevel: '',\n        items: '',\n        rechargeNum: '',\n        pid: '',\n        deltaNum: ''\n      },\n      dialogFormVisible: false,\n      dialogFormVisible2: false,\n      dialogFormVisible3: false,\n      dialogFormVisible4: false,\n      dialogFormVisible5: false,\n      dialogFormVisible6: false,\n      dialogFormVisible7: false,\n      dialogFormVisible8: false,\n      dialogFormVisible9: false,\n      formLabelWidth: '120px',\n      currStaff: {},\n      currStaffTemplate: {},\n      bagItems: [],\n      bagGoods: [],\n      stocks: [],\n      search: {\n        content: '',\n        select: '1'\n      },\n      itemData: {\n        itemList: {},\n        decoShopList: {},\n        staffList: {},\n        goodList: {}\n      }\n    };\n  },\n  methods: {\n    getUsers: function getUsers() {\n      var _this2 = this;\n\n      getAllUsers({\n        per_page: this.pagesize,\n        cur_page: this.currentpage\n      }).then(function (res) {\n        if (res.status === 200) {\n          console.log(res.data.users);\n          _this2.users = res.data.users;\n          _this2.total = res.data.total;\n          _this2.loading = false;\n        }\n      });\n    },\n    handleSizeChange: function handleSizeChange(value) {\n      this.pagesize = value;\n      this.getUsers();\n    },\n    handleCurrentChange: function handleCurrentChange(value) {\n      this.currentpage = value;\n      this.getUsers();\n    },\n    handleStaffSizeChange: function handleStaffSizeChange(value) {\n      this.staffPagesize = value;\n      this.getAllStaffInfo();\n    },\n    handleStaffCurrentChange: function handleStaffCurrentChange(value) {\n      this.staffCurrentpage = value;\n      this.getAllStaffInfo();\n    },\n    openDialog: function openDialog(id) {\n      this.form = {\n        userId: id,\n        diamond: '',\n        gold: '',\n        level: '',\n        exp: '',\n        items: '',\n        extendLevel: ''\n      };\n      this.dialogFormVisible = true;\n    },\n    hideDialog: function hideDialog() {\n      this.updateUserLoading = false;\n      this.dialogFormVisible = false;\n    },\n    openDialog2: function openDialog2(id) {\n      var _this3 = this;\n\n      this.bagItems = [];\n      this.bagGoods = [];\n      getBags({\n        userId: id\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this3.bagItems = res.data.bagItems;\n          _this3.bagGoods = res.data.bagGoods;\n        }\n      });\n      this.dialogFormVisible2 = true;\n    },\n    hideDialog2: function hideDialog2() {\n      this.dialogFormVisible2 = false;\n    },\n    updateUser: function updateUser() {\n      var _this4 = this;\n\n      if (this.updateUserLoading) {\n        this.$Message.error('点击过快');\n        this.updateUserLoading = false;\n        return;\n      }\n\n      this.updateUserLoading = true;\n\n      _updateUser(this.form).then(function (res) {\n        if (res.status === 200) {\n          _this4.$Message.success('修改成功');\n        } else {\n          _this4.$Message.error(res.data);\n        }\n\n        _this4.hideDialog();\n\n        _this4.getUsers();\n      });\n    },\n    skipNewGuide: function skipNewGuide() {\n      var _this5 = this;\n\n      _skipNewGuide({\n        userId: this.form.userId\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this5.$Message.success('修改成功');\n        }\n\n        _this5.hideDialog();\n      });\n    },\n    searchUser: function searchUser() {\n      var _this6 = this;\n\n      _searchUser({\n        type: this.search.select,\n        content: this.search.content\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this6.users = res.data.users;\n          _this6.total = res.data.total;\n          _this6.loading = false;\n        }\n      });\n    },\n    openDialog3: function openDialog3(id) {\n      this.form = {\n        userId: id,\n        diamond: '',\n        gold: '',\n        level: '',\n        exp: '',\n        items: '',\n        rechargeNum: ''\n      };\n      this.dialogFormVisible3 = true;\n    },\n    hideDialog3: function hideDialog3() {\n      this.dialogFormVisible3 = false;\n    },\n    recharge: function recharge() {\n      var _this7 = this;\n\n      _recharge({\n        userId: this.form.userId,\n        num: this.form.rechargeNum\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this7.$Message.success('充值成功');\n        }\n      });\n\n      this.dialogFormVisible3 = false;\n    },\n    openDialog4: function openDialog4(id) {\n      var _this8 = this;\n\n      this.form = {\n        userId: id,\n        pid: '',\n        deltaNum: ''\n      };\n      queryStock({\n        userId: id\n      }).then(function (res) {\n        if (res.status === 200) {\n          debugger;\n          _this8.stocks = res.data.stocks;\n          _this8.dialogFormVisible4 = true;\n        } else {\n          _this8.$Message.error(\"\\u6CA1\\u627E\\u5230\\u73A9\\u5BB6\");\n        }\n      });\n      this.dialogFormVisible4 = true;\n    },\n    hideDialog4: function hideDialog4() {\n      this.dialogFormVisible4 = false;\n    },\n    updateStock: function updateStock() {\n      var _this9 = this;\n\n      _updateStock(this.form).then(function (res) {\n        if (res.status === 200) {\n          _this9.stocks = res.data.stocks;\n\n          _this9.$Message.info('修改成功');\n        }\n      });\n    },\n    openDialog5: function openDialog5(id) {\n      var _this10 = this;\n\n      this.form.userId = id;\n      getStaffPostInfo({\n        userId: id\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this10.posts = res.data.posts;\n        }\n      });\n      this.dialogFormVisible5 = true;\n    },\n    hideDialog5: function hideDialog5() {\n      this.dialogFormVisible5 = false;\n    },\n    openDialog6: function openDialog6(id) {\n      this.form.userId = id;\n      this.getAllStaffInfo();\n      this.dialogFormVisible6 = true;\n    },\n    getAllStaffInfo: function getAllStaffInfo() {\n      var _this11 = this;\n\n      _getAllStaffInfo({\n        userId: this.form.userId,\n        per_page: this.staffPagesize,\n        cur_page: this.staffCurrentpage\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this11.allStaff = res.data.allStaff;\n          _this11.staffTotal = res.data.total;\n        }\n      });\n    },\n    hideDialog6: function hideDialog6() {\n      this.dialogFormVisible6 = false;\n    },\n    openDialog7: function openDialog7(staffId) {\n      this.getStaffInfo(staffId);\n      this.dialogFormVisible7 = true;\n    },\n    hideDialog7: function hideDialog7() {\n      this.dialogFormVisible7 = false;\n    },\n    getStaffInfo: function getStaffInfo(staffId) {\n      var _this12 = this;\n\n      _getStaffInfo({\n        userId: this.form.userId,\n        staffId: staffId\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this12.currStaff = res.data.staff;\n          _this12.currStaffTemplate = {};\n\n          _this12.itemData.staffList.forEach(function (o) {\n            if (o.id == _this12.currStaff.xmlId) {\n              _this12.currStaffTemplate = o;\n            }\n          });\n        }\n      });\n    },\n    oneKeyAdd: function oneKeyAdd(type) {\n      var items = [];\n      var badType = [19, 20, 21, 22, 23, 30];\n\n      switch (type) {\n        case 1:\n          // 道具\n          items = this.itemData.itemList.filter(function (o) {\n            return o.stacking && o.stacking > 999;\n          }).filter(function (o) {\n            return badType.findIndex(function (v) {\n              return v === o.type;\n            }) < 0;\n          }).map(function (obj) {\n            return \"\".concat(obj.id, \",100\");\n          });\n          break;\n\n        case 2:\n          // 家具\n          items = this.itemData.decoShopList.filter(function (o) {\n            return o.stacking && o.stacking > 999;\n          }).map(function (obj) {\n            return \"\".concat(obj.id, \",100\");\n          });\n          break;\n\n        case 3:\n          // 员工\n          items = this.itemData.staffList.map(function (obj) {\n            return \"\".concat(obj.id, \",1\");\n          });\n          break;\n\n        case 4:\n          // 货物\n          items = this.itemData.goodList.map(function (obj) {\n            return \"\".concat(obj.id, \",100\");\n          });\n      }\n\n      this.form.items = items.join(';');\n      this.updateUser();\n    },\n    getItemList: function getItemList() {\n      var _this13 = this;\n\n      _getItemList().then(function (res) {\n        if (res.status === 200) {\n          _this13.itemData.decoShopList = res.data.decoShopList;\n          _this13.itemData.itemList = res.data.itemList;\n          _this13.itemData.staffList = res.data.staffList;\n          _this13.itemData.goodList = res.data.goodList;\n        }\n      });\n    },\n    openVip: function openVip(id) {\n      var _this14 = this;\n\n      _openVip({\n        userId: id,\n        day: 30\n      }).then(function (res) {\n        if (res.status === 200 || res == 'hh') {\n          _this14.$Message.info('修改成功');\n        }\n      });\n    },\n    openDialog8: function openDialog8(userId) {\n      this.form.userId = userId;\n      this.getMarkets();\n      this.dialogFormVisible8 = true;\n    },\n    hideDialog8: function hideDialog8() {\n      this.dialogFormVisible8 = false;\n    },\n    openFloors: function openFloors() {\n      this.isOpenFloors = true;\n    },\n    closeFloors: function closeFloors() {\n      this.isOpenFloors = false;\n    },\n    openDialog9: function openDialog9(id, vip) {\n      this.vipInfo = {};\n      this.vipInfo = vip;\n      this.vipInfo.id = id + '';\n      this.dialogFormVisible9 = true;\n    },\n    hideDialog9: function hideDialog9() {\n      this.dialogFormVisible9 = false;\n    },\n    getMarkets: function getMarkets() {\n      var _this15 = this;\n\n      _getMarkets({\n        userId: this.form.userId\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this15.markets = res.data.markets;\n        }\n      });\n    },\n    showMarket: function showMarket(index) {\n      this.isOpenFloors = false;\n      this.currMarket = index;\n    },\n    isMarketShow: function isMarketShow(index) {\n      return this.currMarket === index;\n    },\n    decoShopFilter: function decoShopFilter(xmlId) {\n      var str = \"没找到\";\n      this.itemData.decoShopList.forEach(function (o) {\n        if (o.id == xmlId) {\n          str = o.name;\n        }\n      });\n      return str;\n    },\n    decoShop2Popularity: function decoShop2Popularity(xmlId) {\n      var str = \"0\";\n      this.itemData.decoShopList.forEach(function (o) {\n        if (o.id == xmlId) {\n          str = o.popularity;\n        }\n      });\n      return str;\n    },\n    floorsMap2Array: function floorsMap2Array(map) {\n      var arr = [];\n\n      for (var key in map) {\n        arr.push({\n          id: key,\n          xmlId: map[key]\n        });\n      }\n\n      return arr;\n    },\n    Time2DefaultFormat: function Time2DefaultFormat(time) {\n      return util.Time2DefaultFormat(time);\n    }\n  }\n};",null]}