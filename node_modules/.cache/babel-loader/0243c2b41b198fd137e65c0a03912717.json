{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/upload-img/uploadImg.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/upload-img/uploadImg.vue","mtime":1574132205000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport uploadPicInput from \"../../my-components/rbac/upload-pic-input\";\nimport { getUploadImgConfig as _getUploadImgConfig, uploadImg } from \"@/api/index\";\nexport default {\n  name: \"uploadImg\",\n  components: {\n    uploadPicInput: uploadPicInput\n  },\n  data: function data() {\n    return {\n      fileList: [],\n      errorList: [],\n      succesList: [],\n      types: []\n    };\n  },\n  methods: {\n    getUploadImgConfig: function getUploadImgConfig() {\n      var _this = this;\n\n      _getUploadImgConfig().then(function (res) {\n        _this.types = [];\n        res.result.forEach(function (obj) {\n          _this.types.push({\n            type: obj.split(\",\")[0],\n            name: obj.split(\",\")[1]\n          });\n        });\n      });\n    },\n    handleUpload: function handleUpload(file) {\n      this.fileList.push(file);\n      return false;\n    },\n    upload: function upload(type) {\n      var _this2 = this;\n\n      console.log('>>>>', this.fileList);\n\n      if (this.fileList.length == 0) {\n        this.$Message.error('未选择文件！');\n        return;\n      }\n\n      var formData = new FormData();\n\n      for (var i = 0; i < this.fileList.length; i++) {\n        formData.append(\"file\", this.fileList[i]);\n      }\n\n      formData.append(\"type\", type);\n      uploadImg(formData).then(function (res) {\n        debugger;\n\n        if (res.code === 200) {\n          _this2.fileList = [];\n\n          _this2.$Message.info('上传成功');\n\n          _this2.succesList = res.result.succ;\n          _this2.errorList = res.result.error;\n        }\n      });\n    },\n    deleteFile: function deleteFile(index) {\n      this.fileList.splice(index, 1);\n    }\n  },\n  mounted: function mounted() {\n    this.getUploadImgConfig();\n  }\n};",null]}