{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/feedback/feedback.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/feedback/feedback.vue","mtime":1574132205000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { delFeedbackBytime as _delFeedbackBytime, getFeedback as _getFeedback, getFeedbackEx as _getFeedbackEx, delFeedbackById } from \"@/api/index\";\nimport util from \"../../../libs/util\";\nexport default {\n  name: \"feedback\",\n  data: function data() {\n    var _this = this;\n\n    return {\n      columns: [{\n        type: \"index\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"openID\",\n        key: \"name\",\n        width: 80,\n        align: \"center\"\n      }, {\n        title: \"用户ID\",\n        key: \"userId\",\n        width: 80,\n        align: \"center\"\n      }, {\n        title: \"反馈时间\",\n        key: \"subTime\",\n        width: 110,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", util.Time2DefaultFormat(params.row.subTime));\n        }\n      }, {\n        title: \"内容\",\n        key: \"contentStr\",\n        width: 200,\n        align: \"center\"\n      }, {\n        title: \"操作\",\n        key: \"action\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"error\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.delFeedback(params.row.zid);\n              }\n            }\n          }, \"删除\")]);\n        }\n      }],\n      feedbacks: [],\n      loading: true,\n      pagesize: 10,\n      currentpage: 1,\n      total: 0,\n      form: {\n        zid: ''\n      },\n      dialogFormVisible: false,\n      formLabelWidth: '120px',\n      delBytime: {\n        delTime: new Date()\n      },\n      queryBytime: {\n        selectTime: [new Date(), new Date()]\n      }\n    };\n  },\n  methods: {\n    delFeedback: function delFeedback(zid) {\n      var _this2 = this;\n\n      delFeedbackById({\n        zid: zid\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this2.currentpage = 1;\n          _this2.feedbacks = res.data.feedbacks;\n          _this2.total = res.data.total;\n        }\n      });\n    },\n    getFeedbackEx: function getFeedbackEx() {\n      _getFeedbackEx().then(function (res) {\n        var url = window.URL.createObjectURL(new Blob([res.data]));\n        var link = document.createElement('a');\n        link.style.display = 'none';\n        link.href = url;\n        link.setAttribute('download', '反馈.xlsx');\n        document.body.appendChild(link);\n        link.click();\n      });\n    },\n    getFeedback: function getFeedback() {\n      var _this3 = this;\n\n      var timeStamp = [];\n      this.queryBytime.selectTime.forEach(function (o) {\n        timeStamp.push(o.getTime());\n      });\n\n      _getFeedback({\n        per_page: this.pagesize,\n        cur_page: this.currentpage,\n        selectTime: timeStamp\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this3.feedbacks = res.data.feedbacks;\n          _this3.total = res.data.total;\n        }\n      });\n    },\n    handleSizeChange: function handleSizeChange(value) {\n      this.pagesize = value;\n      this.getFeedback();\n    },\n    handleCurrentChange: function handleCurrentChange(value) {\n      this.currentpage = value;\n      this.getFeedback();\n    },\n    delFeedbackBytime: function delFeedbackBytime() {\n      var _this4 = this;\n\n      _delFeedbackBytime({\n        time: util.Time2DefaultFormat(this.delBytime.delTime)\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this4.$Message.info(\"删除成功\");\n\n          _this4.currentpage = 1;\n\n          _this4.getFeedback();\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["feedback.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class='basic'>\n    <Row>\n      <Col :span='24'>\n        <Card>\n          <div>\n            反馈信息(tip:查询自动忽略时分秒，删除没有忽略)\n          </div>\n\n          <div style=\"margin-top: 15px\">\n\n            <Row :gutter=\"24\">\n              <Col :span=\"8\">\n                <DatePicker v-model=\"queryBytime.selectTime\"\n                            type=\"datetimerange\"\n                            format=\"yyyy-MM-dd HH:mm:ss\"\n                            placeholder=\"请选择时间日期\"\n                            style=\"width: 350px\">\n                </DatePicker>\n                <Button type=\"primary\" @click=\"getFeedback()\">查询</Button>\n              </Col>\n\n              <Col :span=\"8\">\n                <DatePicker v-model=\"delBytime.delTime\"\n                            type=\"datetime\"\n                            format=\"yyyy-MM-dd HH:mm:ss\"\n                            placeholder=\"请选择时间日期\"\n                            style=\"width: 200px\">\n                </DatePicker>\n                <Button type=\"primary\" @click=\"delFeedbackBytime()\">删除该时间之前</Button>\n              </Col>\n              <Button type=\"primary\" @click=\"getFeedbackEx()\">导出excel表</Button>\n            </Row>\n          </div>\n        </Card>\n      </Col>\n    </Row>\n    <Row>\n      <Table :columns=\"columns\" :data=\"feedbacks\" ref=\"table\"></Table>\n    </Row>\n    <Row type=\"flex\" justify=\"end\" class=\"page\">\n      <Page\n              :current=\"currentpage\"\n              :total=\"total\"\n              :page-size=\"pagesize\"\n              @on-change=\"handleCurrentChange\"\n              @on-page-size-change=\"handleSizeChange\"\n              :page-size-opts=\"[10,20,50]\"\n              size=\"small\"\n              show-total\n              show-elevator\n              show-sizer\n      ></Page>\n    </Row>\n  </div>\n</template>\n\n<script>\n    import {delFeedbackBytime,getFeedback,getFeedbackEx,delFeedbackById} from \"@/api/index\";\n    import util from \"../../../libs/util\";\n    export default {\n        name: \"feedback\",\n        data() {\n            return {\n                columns: [\n                    {type: \"index\", width: 60, align: \"center\"},\n                    {title: \"openID\", key: \"name\", width: 80,align: \"center\"},\n                    {title: \"用户ID\", key: \"userId\", width: 80,align: \"center\"},\n                    {title: \"反馈时间\", key: \"subTime\", width: 110, align: \"center\",render: (h, params) => {return h(\"div\", util.Time2DefaultFormat(params.row.subTime))}},\n                    {title: \"内容\", key: \"contentStr\", width: 200,align: \"center\"},\n                    {title: \"操作\", key: \"action\", width: 100, align: \"center\",\n                        render: (h, params) => {\n                            return h(\"div\", [\n                                h(\"Button\", {props: {type: \"error\", size: \"small\"}, on: {click: () => {this.delFeedback(params.row.zid);}}}, \"删除\")]);\n                        }\n                    }],\n                feedbacks: [],\n                loading: true,\n                pagesize: 10,\n                currentpage: 1,\n                total: 0,\n                form: {\n                    zid: ''\n                },\n                dialogFormVisible: false,\n                formLabelWidth: '120px',\n                delBytime: {\n                    delTime: new Date()\n                },\n                queryBytime: {\n                    selectTime: [new Date(), new Date()]\n                }\n            }\n        },\n        methods: {\n            delFeedback(zid) {\n                delFeedbackById({zid:zid}).then(res=>{\n                    if (res.status === 200) {\n                        this.currentpage = 1;\n                        this.feedbacks = res.data.feedbacks;\n                        this.total = res.data.total;\n                    }\n                });\n            },\n            getFeedbackEx() {\n                getFeedbackEx().then(res =>{\n                    let url = window.URL.createObjectURL(new Blob([res.data]))\n                    let link = document.createElement('a')\n                    link.style.display = 'none'\n                    link.href = url\n                    link.setAttribute('download', '反馈.xlsx');\n                    document.body.appendChild(link)\n                    link.click()\n                });\n            },\n\n            getFeedback() {\n                let timeStamp = [];\n                this.queryBytime.selectTime.forEach(o=>{\n                    timeStamp.push(o.getTime());\n                })\n                getFeedback({per_page:this.pagesize,cur_page:this.currentpage,selectTime:timeStamp}).then(res=>{\n                    if (res.status === 200) {\n                        this.feedbacks = res.data.feedbacks;\n                        this.total = res.data.total;\n                    }\n                });\n            },\n            handleSizeChange(value) {\n                this.pagesize = value;\n                this.getFeedback();\n            },\n            handleCurrentChange(value) {\n                this.currentpage = value;\n                this.getFeedback();\n            },\n            delFeedbackBytime() {\n                delFeedbackBytime({time:util.Time2DefaultFormat(this.delBytime.delTime)}).then(res=>{\n                    if (res.status === 200) {\n                        this.$Message.info(\"删除成功\");\n                        this.currentpage = 1;\n                        this.getFeedback();\n                    }\n                });\n            }\n        },\n    }\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/views/game/feedback"}]}