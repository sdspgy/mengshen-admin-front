{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/feedback/feedback.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/feedback/feedback.vue","mtime":1574132205000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { delFeedbackBytime as _delFeedbackBytime, getFeedback as _getFeedback, getFeedbackEx as _getFeedbackEx, delFeedbackById } from \"@/api/index\";\nimport util from \"../../../libs/util\";\nexport default {\n  name: \"feedback\",\n  data: function data() {\n    var _this = this;\n\n    return {\n      columns: [{\n        type: \"index\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"openID\",\n        key: \"name\",\n        width: 80,\n        align: \"center\"\n      }, {\n        title: \"用户ID\",\n        key: \"userId\",\n        width: 80,\n        align: \"center\"\n      }, {\n        title: \"反馈时间\",\n        key: \"subTime\",\n        width: 110,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", util.Time2DefaultFormat(params.row.subTime));\n        }\n      }, {\n        title: \"内容\",\n        key: \"contentStr\",\n        width: 200,\n        align: \"center\"\n      }, {\n        title: \"操作\",\n        key: \"action\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"error\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.delFeedback(params.row.zid);\n              }\n            }\n          }, \"删除\")]);\n        }\n      }],\n      feedbacks: [],\n      loading: true,\n      pagesize: 10,\n      currentpage: 1,\n      total: 0,\n      form: {\n        zid: ''\n      },\n      dialogFormVisible: false,\n      formLabelWidth: '120px',\n      delBytime: {\n        delTime: new Date()\n      },\n      queryBytime: {\n        selectTime: [new Date(), new Date()]\n      }\n    };\n  },\n  methods: {\n    delFeedback: function delFeedback(zid) {\n      var _this2 = this;\n\n      delFeedbackById({\n        zid: zid\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this2.currentpage = 1;\n          _this2.feedbacks = res.data.feedbacks;\n          _this2.total = res.data.total;\n        }\n      });\n    },\n    getFeedbackEx: function getFeedbackEx() {\n      _getFeedbackEx().then(function (res) {\n        var url = window.URL.createObjectURL(new Blob([res.data]));\n        var link = document.createElement('a');\n        link.style.display = 'none';\n        link.href = url;\n        link.setAttribute('download', '反馈.xlsx');\n        document.body.appendChild(link);\n        link.click();\n      });\n    },\n    getFeedback: function getFeedback() {\n      var _this3 = this;\n\n      var timeStamp = [];\n      this.queryBytime.selectTime.forEach(function (o) {\n        timeStamp.push(o.getTime());\n      });\n\n      _getFeedback({\n        per_page: this.pagesize,\n        cur_page: this.currentpage,\n        selectTime: timeStamp\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this3.feedbacks = res.data.feedbacks;\n          _this3.total = res.data.total;\n        }\n      });\n    },\n    handleSizeChange: function handleSizeChange(value) {\n      this.pagesize = value;\n      this.getFeedback();\n    },\n    handleCurrentChange: function handleCurrentChange(value) {\n      this.currentpage = value;\n      this.getFeedback();\n    },\n    delFeedbackBytime: function delFeedbackBytime() {\n      var _this4 = this;\n\n      _delFeedbackBytime({\n        time: util.Time2DefaultFormat(this.delBytime.delTime)\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this4.$Message.info(\"删除成功\");\n\n          _this4.currentpage = 1;\n\n          _this4.getFeedback();\n        }\n      });\n    }\n  }\n};",null]}