{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/Main.vue","mtime":1574132205000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport shrinkableMenu from \"./main-components/shrinkable-menu/shrinkable-menu.vue\";\nimport tagsPageOpened from \"./main-components/tags-page-opened.vue\";\nimport breadcrumbNav from \"./main-components/breadcrumb-nav.vue\";\nimport fullScreen from \"./main-components/fullscreen.vue\";\nimport lockScreen from \"./main-components/lockscreen/lockscreen.vue\";\nimport circleLoading from \"@/views/my-components/circle-loading.vue\";\nimport Cookies from \"js-cookie\";\nimport util from \"@/libs/util.js\";\nexport default {\n  components: {\n    shrinkableMenu: shrinkableMenu,\n    tagsPageOpened: tagsPageOpened,\n    breadcrumbNav: breadcrumbNav,\n    fullScreen: fullScreen,\n    lockScreen: lockScreen,\n    circleLoading: circleLoading\n  },\n  data: function data() {\n    return {\n      shrink: false,\n      username: \"\",\n      userId: \"\",\n      isFullScreen: false,\n      openedSubmenuArr: this.$store.state.app.openedSubmenuArr,\n      firstThreeNav: [],\n      lastNav: [],\n      navType: 1\n    };\n  },\n  computed: {\n    loading: function loading() {\n      return this.$store.state.app.loading;\n    },\n    navList: function navList() {\n      return this.$store.state.app.navList;\n    },\n    currNav: function currNav() {\n      return this.$store.state.app.currNav;\n    },\n    currNavTitle: function currNavTitle() {\n      return this.$store.state.app.currNavTitle;\n    },\n    menuList: function menuList() {\n      return this.$store.state.app.menuList;\n    },\n    pageTagsList: function pageTagsList() {\n      return this.$store.state.app.pageOpenedList; // 打开的页面的页面对象\n    },\n    currentPath: function currentPath() {\n      return this.$store.state.app.currentPath; // 当前面包屑数组\n    },\n    avatarPath: function avatarPath() {\n      return localStorage.avatorImgPath;\n    },\n    cachePage: function cachePage() {\n      return this.$store.state.app.cachePage;\n    },\n    lang: function lang() {\n      return this.$store.state.app.lang;\n    },\n    menuTheme: function menuTheme() {\n      return this.$store.state.app.menuTheme;\n    },\n    mesCount: function mesCount() {\n      return this.$store.state.app.messageCount;\n    }\n  },\n  stompClient: {\n    monitorIntervalTime: 100,\n    stompReconnect: true,\n    timeout: function timeout(orgCmd) {}\n  },\n  methods: {\n    init: function init() {\n      var pathArr = util.setCurrentPath(this, this.$route.name); // this.$store.commit(\"updateMenulist\");\n\n      if (pathArr.length >= 2) {\n        this.$store.commit(\"addOpenSubmenu\", pathArr[1].name);\n      }\n\n      var userInfo = JSON.parse(Cookies.get(\"userInfo\"));\n      this.username = userInfo.username;\n      this.userId = userInfo.id;\n      this.checkTag(this.$route.name);\n    },\n    selectNav: function selectNav(name) {\n      this.$store.commit(\"setCurrNav\", name);\n      this.setStore(\"currNav\", name); // 清空所有已打开标签\n      // this.$store.commit(\"clearAllTags\");\n\n      this.$router.push({\n        name: \"home_index\"\n      });\n      util.initRouter(this);\n    },\n    toggleClick: function toggleClick() {\n      this.shrink = !this.shrink;\n    },\n    handleLanDropdown: function handleLanDropdown(name) {\n      this.$i18n.locale = name;\n      this.$store.commit(\"switchLang\", name);\n    },\n    handleClickUserDropdown: function handleClickUserDropdown(name) {\n      if (name == \"ownSpace\") {\n        util.openNewPage(this, \"ownspace_index\");\n        this.$router.push({\n          name: \"ownspace_index\"\n        });\n      } else if (name == \"ownSpaceOld\") {\n        util.openNewPage(this, \"ownspace_old\");\n        this.$router.push({\n          name: \"ownspace_old\"\n        });\n      } else if (name == \"changePass\") {\n        util.openNewPage(this, \"change_pass\");\n        this.$router.push({\n          name: \"change_pass\"\n        });\n      } else if (name == \"loginout\") {\n        // 退出登录\n        this.$store.commit(\"logout\", this);\n        this.$store.commit(\"clearOpenedSubmenu\");\n        this.setStore(\"accessToken\", \"\"); // 强制刷新页面 重新加载router\n\n        location.reload();\n      }\n    },\n    checkTag: function checkTag(name) {\n      var openpageHasTag = this.pageTagsList.some(function (item) {\n        if (item.name == name) {\n          return true;\n        }\n      });\n\n      if (!openpageHasTag) {\n        //  解决关闭当前标签后再点击回退按钮会退到当前页时没有标签的问题\n        util.openNewPage(this, name, this.$route.params || {}, this.$route.query || {});\n      }\n    },\n    handleSubmenuChange: function handleSubmenuChange(val) {// console.log(val)\n    },\n    beforePush: function beforePush(name) {\n      // console.log(name)\n      return true;\n    },\n    fullscreenChange: function fullscreenChange(isFullScreen) {// console.log(isFullScreen);\n    }\n  },\n  watch: {\n    $route: function $route(to) {\n      this.$store.commit(\"setCurrentPageName\", to.name);\n      var pathArr = util.setCurrentPath(this, to.name);\n\n      if (pathArr.length > 2) {\n        this.$store.commit(\"addOpenSubmenu\", pathArr[1].name);\n      }\n\n      this.checkTag(to.name);\n      localStorage.currentPageName = to.name;\n    },\n    lang: function lang() {\n      util.setCurrentPath(this, this.$route.name); // 在切换语言时用于刷新面包屑\n    }\n  },\n  mounted: function mounted() {\n    this.init();\n  },\n  created: function created() {\n    // 显示打开的页面的列表\n    this.$store.commit(\"setOpenedList\");\n  }\n};",{"version":3,"sources":["Main.vue"],"names":[],"mappings":"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","sourcesContent":["<style lang=\"less\">\n@import \"./main.less\";\n</style>\n\n<template>\n  <div class=\"main\" :class=\"{'main-hide-text': shrink}\">\n    <div\n      class=\"sidebar-menu-con menu-bar\"\n      :style=\"{width: shrink?'60px':'220px', overflow: shrink ? 'visible' : 'auto'}\"\n    >\n      <shrinkable-menu\n        :shrink=\"shrink\"\n        @on-change=\"handleSubmenuChange\"\n        :theme=\"menuTheme\"\n        :before-push=\"beforePush\"\n        :open-names=\"openedSubmenuArr\"\n        :menu-list=\"menuList\"\n      >\n        <div slot=\"top\" class=\"logo-con\">\n          <img v-show=\"!shrink\" src=\"../assets/logo.png\" key=\"max-logo\">\n          <img v-show=\"shrink\" src=\"../assets/logo-min.png\" key=\"min-logo\">\n        </div>\n      </shrinkable-menu>\n    </div>\n    <div class=\"main-header-con\" :style=\"{paddingLeft: shrink?'60px':'220px'}\">\n      <div class=\"main-header\">\n        <div class=\"navicon-con\">\n          <Button\n            :style=\"{transform: 'rotateZ(' + (this.shrink ? '-90' : '0') + 'deg)'}\"\n            type=\"text\"\n            @click=\"toggleClick\"\n          >\n            <Icon type=\"md-menu\" size=\"32\"></Icon>\n          </Button>\n        </div>\n        <div class=\"header-middle-con\">\n          <div class=\"main-breadcrumb\" v-if=\"navType==4\">\n            <breadcrumb-nav :currentPath=\"currentPath\"></breadcrumb-nav>\n          </div>\n          <div class=\"main-nav-menu\" v-if=\"navType==1||navType==2\">\n            <Menu mode=\"horizontal\" :active-name=\"currNav\" @on-select=\"selectNav\">\n              <MenuItem v-for=\"(item, i) in navList.slice(0, 3)\" :key=\"i\" :name=\"item.name\">\n                <Icon :type=\"item.icon\" style=\"margin-bottom:3px\" v-if=\"navType==1\"/>\n                {{item.title}}\n              </MenuItem>\n              <Submenu name=\"sub\" v-if=\"navList.length>3\">\n                <template slot=\"title\">更多</template>\n                <MenuItem\n                  v-for=\"(item, i) in navList.slice(3, navList.length)\"\n                  :key=\"i\"\n                  :name=\"item.name\"\n                >\n                  <Icon :type=\"item.icon\" style=\"margin-bottom:3px\" v-if=\"navType==1\"/>\n                  {{item.title}}\n                </MenuItem>\n              </Submenu>\n            </Menu>\n          </div>\n          <div class=\"main-nav\" v-if=\"navType==3\">\n            <Dropdown transfer @on-click=\"selectNav\">\n              <div style=\"cursor: pointer\">\n                {{currNavTitle}}\n                <Icon type=\"ios-arrow-down\"></Icon>\n              </div>\n              <DropdownMenu slot=\"list\">\n                <DropdownItem\n                  v-for=\"(item, i) in navList\"\n                  :key=\"i\"\n                  :name=\"item.name\"\n                  :selected=\"currNav==item.name\"\n                >\n                  <div class=\"nav-item\">\n                    <Icon :type=\"item.icon\" :size=\"16\" style=\"margin: 0 10px 3px 0\"></Icon>\n                    {{item.title}}\n                  </div>\n                </DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n          </div>\n        </div>\n        <div :class=\"{'header-avator-con':navType!=4, 'header-avator-con nav4':navType==4}\">\n          <Dropdown @on-click=\"selectNav\" class=\"options\" v-if=\"navType==4\">\n            <Icon type=\"ios-apps\" :size=\"24\" class=\"language\"></Icon>\n            <DropdownMenu slot=\"list\">\n              <DropdownItem\n                v-for=\"(item, i) in navList\"\n                :key=\"i\"\n                :name=\"item.name\"\n                :selected=\"currNav==item.name\"\n              >\n                <div>\n                  <Icon :type=\"item.icon\" :size=\"14\" style=\"margin: 0 10px 2px 0\"></Icon>\n                  {{item.title}}\n                </div>\n              </DropdownItem>\n            </DropdownMenu>\n          </Dropdown>\n          <full-screen v-model=\"isFullScreen\" @on-change=\"fullscreenChange\"></full-screen>\n          <Dropdown @on-click=\"handleLanDropdown\" class=\"options\">\n            <Icon type=\"md-globe\" :size=\"24\" class=\"language\"></Icon>\n            <DropdownMenu slot=\"list\">\n              <DropdownItem name=\"zh-CN\">中文</DropdownItem>\n              <DropdownItem name=\"en-US\">English</DropdownItem>\n            </DropdownMenu>\n          </Dropdown>\n          <lock-screen></lock-screen>\n          <div class=\"user-dropdown-menu-con\">\n            <Row type=\"flex\" justify=\"end\" align=\"middle\" class=\"user-dropdown-innercon\">\n              <Dropdown transfer trigger=\"hover\" @on-click=\"handleClickUserDropdown\">\n                <a href=\"javascript:void(0)\">\n                  <span class=\"main-user-name\">{{ username }}</span>\n                  <Icon type=\"md-arrow-dropdown\"/>\n                  <Avatar :src=\"avatarPath\" style=\"background: #619fe7;margin-left: 10px;\"></Avatar>\n                </a>\n                <DropdownMenu slot=\"list\">\n                  <DropdownItem name=\"ownSpace\">{{ $t('userCenter') }}</DropdownItem>\n                  <DropdownItem name=\"changePass\">{{ $t('changePass') }}</DropdownItem>\n                  <DropdownItem name=\"loginout\" divided>{{ $t('logout') }}</DropdownItem>\n                </DropdownMenu>\n              </Dropdown>\n            </Row>\n          </div>\n        </div>\n      </div>\n      <div class=\"tags-con\">\n        <tags-page-opened :pageTagsList=\"pageTagsList\"></tags-page-opened>\n      </div>\n    </div>\n    <div class=\"single-page-con\" :style=\"{left: shrink?'60px':'220px'}\">\n      <div class=\"single-page\">\n        <keep-alive :include=\"cachePage\">\n          <router-view></router-view>\n        </keep-alive>\n      </div>\n    </div>\n    <!-- 全局加载动画 -->\n    <circleLoading class=\"loading-position\" v-show=\"loading\"/>\n  </div>\n</template>\n\n<script>\nimport shrinkableMenu from \"./main-components/shrinkable-menu/shrinkable-menu.vue\";\nimport tagsPageOpened from \"./main-components/tags-page-opened.vue\";\nimport breadcrumbNav from \"./main-components/breadcrumb-nav.vue\";\nimport fullScreen from \"./main-components/fullscreen.vue\";\nimport lockScreen from \"./main-components/lockscreen/lockscreen.vue\";\nimport circleLoading from \"@/views/my-components/circle-loading.vue\";\nimport Cookies from \"js-cookie\";\nimport util from \"@/libs/util.js\";\nexport default {\n  components: {\n    shrinkableMenu,\n    tagsPageOpened,\n    breadcrumbNav,\n    fullScreen,\n    lockScreen,\n    circleLoading\n  },\n  data() {\n    return {\n      shrink: false,\n      username: \"\",\n      userId: \"\",\n      isFullScreen: false,\n      openedSubmenuArr: this.$store.state.app.openedSubmenuArr,\n      firstThreeNav: [],\n      lastNav: [],\n      navType: 1,\n    };\n  },\n  computed: {\n    loading() {\n      return this.$store.state.app.loading;\n    },\n    navList() {\n      return this.$store.state.app.navList;\n    },\n    currNav() {\n      return this.$store.state.app.currNav;\n    },\n    currNavTitle() {\n      return this.$store.state.app.currNavTitle;\n    },\n    menuList() {\n      return this.$store.state.app.menuList;\n    },\n    pageTagsList() {\n      return this.$store.state.app.pageOpenedList; // 打开的页面的页面对象\n    },\n    currentPath() {\n      return this.$store.state.app.currentPath; // 当前面包屑数组\n    },\n    avatarPath() {\n      return localStorage.avatorImgPath;\n    },\n    cachePage() {\n      return this.$store.state.app.cachePage;\n    },\n    lang() {\n      return this.$store.state.app.lang;\n    },\n    menuTheme() {\n      return this.$store.state.app.menuTheme;\n    },\n    mesCount() {\n      return this.$store.state.app.messageCount;\n    }\n  },\n  stompClient: {\n    monitorIntervalTime: 100,\n    stompReconnect: true,\n    timeout(orgCmd) {}\n  },\n  methods: {\n    init() {\n      let pathArr = util.setCurrentPath(this, this.$route.name);\n      // this.$store.commit(\"updateMenulist\");\n      if (pathArr.length >= 2) {\n        this.$store.commit(\"addOpenSubmenu\", pathArr[1].name);\n      }\n      let userInfo = JSON.parse(Cookies.get(\"userInfo\"));\n      this.username = userInfo.username;\n      this.userId = userInfo.id;\n      this.checkTag(this.$route.name);\n    },\n    selectNav(name) {\n      this.$store.commit(\"setCurrNav\", name);\n      this.setStore(\"currNav\", name);\n      // 清空所有已打开标签\n      // this.$store.commit(\"clearAllTags\");\n      this.$router.push({\n        name: \"home_index\"\n      });\n      util.initRouter(this);\n    },\n    toggleClick() {\n      this.shrink = !this.shrink;\n    },\n    handleLanDropdown(name) {\n      this.$i18n.locale = name;\n      this.$store.commit(\"switchLang\", name);\n    },\n    handleClickUserDropdown(name) {\n      if (name == \"ownSpace\") {\n        util.openNewPage(this, \"ownspace_index\");\n        this.$router.push({\n          name: \"ownspace_index\"\n        });\n      } else if (name == \"ownSpaceOld\") {\n        util.openNewPage(this, \"ownspace_old\");\n        this.$router.push({\n          name: \"ownspace_old\"\n        });\n      } else if (name == \"changePass\") {\n        util.openNewPage(this, \"change_pass\");\n        this.$router.push({\n          name: \"change_pass\"\n        });\n      } else if (name == \"loginout\") {\n        // 退出登录\n        this.$store.commit(\"logout\", this);\n        this.$store.commit(\"clearOpenedSubmenu\");\n        this.setStore(\"accessToken\", \"\");\n        // 强制刷新页面 重新加载router\n        location.reload();\n      }\n    },\n    checkTag(name) {\n      let openpageHasTag = this.pageTagsList.some(item => {\n        if (item.name == name) {\n          return true;\n        }\n      });\n      if (!openpageHasTag) {\n        //  解决关闭当前标签后再点击回退按钮会退到当前页时没有标签的问题\n        util.openNewPage(\n          this,\n          name,\n          this.$route.params || {},\n          this.$route.query || {}\n        );\n      }\n    },\n    handleSubmenuChange(val) {\n      // console.log(val)\n    },\n    beforePush(name) {\n      // console.log(name)\n      return true;\n    },\n    fullscreenChange(isFullScreen) {\n      // console.log(isFullScreen);\n    }\n  },\n  watch: {\n    $route(to) {\n      this.$store.commit(\"setCurrentPageName\", to.name);\n      let pathArr = util.setCurrentPath(this, to.name);\n      if (pathArr.length > 2) {\n        this.$store.commit(\"addOpenSubmenu\", pathArr[1].name);\n      }\n      this.checkTag(to.name);\n      localStorage.currentPageName = to.name;\n    },\n    lang() {\n      util.setCurrentPath(this, this.$route.name); // 在切换语言时用于刷新面包屑\n    }\n  },\n  mounted() {\n    this.init();\n  },\n  created() {\n    // 显示打开的页面的列表\n    this.$store.commit(\"setOpenedList\");\n  }\n};\n</script>\n"],"sourceRoot":"src/views"}]}