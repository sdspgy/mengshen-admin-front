{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/report/report/report.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/report/report/report.vue","mtime":1577957673313},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { queryAllAdvertReq, downloadReportReq } from '@/api/index';\nexport default {\n  name: \"report\",\n  data: function data() {\n    return {\n      games: [],\n      searchForm: {\n        gameid: ''\n      },\n      time: [],\n      data: [{\n        genre: 'Sports',\n        sold: 275\n      }, {\n        genre: 'Strategy',\n        sold: 115\n      }, {\n        genre: 'Action',\n        sold: 120\n      }, {\n        genre: 'Shooter',\n        sold: 350\n      }, {\n        genre: 'Other',\n        sold: 150\n      }],\n      chart: {}\n    };\n  },\n  methods: {\n    init: function init() {\n      this.getGames();\n      this.antvG2Text();\n    },\n    changeAntvData: function changeAntvData() {\n      var data = [{\n        genre: 'Sports',\n        sold: 105\n      }, {\n        genre: 'Strategy',\n        sold: 105\n      }, {\n        genre: 'Action',\n        sold: 105\n      }, {\n        genre: 'Shooter',\n        sold: 105\n      }, {\n        genre: 'Other',\n        sold: 105\n      }];\n      this.chart.changeData(data);\n    },\n    antvG2Text: function antvG2Text() {\n      this.chart = new G2.Chart({\n        container: 'c1',\n        // 指定图表容器 ID\n        width: 600,\n        // 指定图表宽度\n        height: 300 // 指定图表高度\n\n      }); // Step 2: 载入数据源\n\n      this.chart.source(this.data); // Step 3：创建图形语法，绘制柱状图，由 genre 和 sold 两个属性决定图形位置，genre 映射至 x 轴，sold 映射至 y 轴\n\n      this.chart.interval().position('genre*sold').color('genre'); // Step 4: 渲染图表\n\n      this.chart.render();\n    },\n    getGames: function getGames() {\n      var _this = this;\n\n      queryAllAdvertReq(this.gameid).then(function (res) {\n        if (res.success) {\n          _this.games = res.result[0].records;\n        }\n      });\n    },\n    download: function download() {\n      var t = this.time;\n\n      if (this.searchForm.gameid == '' || undefined) {\n        alert('请选择游戏');\n        return;\n      }\n\n      if (this.time[0] == '') {\n        alert(\"请输入时间\");\n        return;\n      }\n\n      var gameid = this.searchForm.gameid,\n          beginData = this.timeUtil(this.time[0]),\n          overData = this.timeUtil(this.time[1]); // let url = `https://report.nuojuekeji.com/api/report/generateReport?startDs=${beginData}&endDs=${overData}&gameId=${gameid}`;\n\n      window.location.href = \"https://report.nuojuekeji.com/api/report/generateReport?startDs=\".concat(beginData, \"&endDs=\").concat(overData, \"&gameId=\").concat(gameid); //\n      // let url = 'https://report.nuojuekeji.com/api/report/generateReport?startDs=2019-11-18&endDs=2019-12-16&gameId=8';\n      // downloadReportReq(url).then(res => {\n      //     debugger\n      //     // const blob = new Blob([response.data]);\n      //     // const fileName = 'user.xls';\n      //     // const linkNode = document.createElement('a');\n      //     //\n      //     // linkNode.download = fileName; //a标签的download属性规定下载文件的名称\n      //     // linkNode.style.display = 'none';\n      //     // linkNode.href = URL.createObjectURL(blob); //生成一个Blob URL\n      //     // document.body.appendChild(linkNode);\n      //     // linkNode.click();  //模拟在按钮上的一次鼠标单击\n      //     //\n      //     // URL.revokeObjectURL(linkNode.href); // 释放URL 对象\n      //     // document.body.removeChild(linkNode);\n      //\n      // });\n    },\n    timeUtil: function timeUtil(time) {\n      return time.getFullYear() + \"-\" + (time.getMonth() + 1) + \"-\" + time.getDate();\n    }\n  },\n  mounted: function mounted() {\n    this.init();\n  }\n};",{"version":3,"sources":["report.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <Select v-model=\"searchForm.gameid\" style=\"width:200px\">\n            <Option v-for=\"item in games\" :value=\"item.gameid\" :key=\"item.gameid\">{{ item.name }}</Option>\n        </Select>\n        <Row>\n            <Col span=\"12\">\n                <DatePicker v-model=\"time\" type=\"daterange\" format=\"yyyy-MM-dd\" placeholder=\"选择开始时间\"\n                            style=\"width: 200px\"></DatePicker>\n            </Col>\n        </Row>\n        <Button @click=\"download\" type=\"info\">下载</Button>\n        <!-- 创建图表容器 -->\n        <div id=\"c1\"></div>\n        <Button @click=\"changeAntvData\" type=\"info\">Antv</Button>\n    </div>\n\n</template>\n\n<script>\n    import {queryAllAdvertReq, downloadReportReq} from '@/api/index';\n\n    export default {\n        name: \"report\",\n        data() {\n            return {\n                games: [],\n                searchForm: {\n                    gameid: '',\n                },\n                time: [],\n                data: [\n                    {genre: 'Sports', sold: 275},\n                    {genre: 'Strategy', sold: 115},\n                    {genre: 'Action', sold: 120},\n                    {genre: 'Shooter', sold: 350},\n                    {genre: 'Other', sold: 150}\n                ],\n                chart: {},\n            }\n        },\n        methods: {\n            init() {\n                this.getGames();\n                this.antvG2Text();\n            },\n            changeAntvData() {\n                const data = [\n                    {genre: 'Sports', sold: 105},\n                    {genre: 'Strategy', sold: 105},\n                    {genre: 'Action', sold: 105},\n                    {genre: 'Shooter', sold: 105},\n                    {genre: 'Other', sold: 105}\n                ]\n                this.chart.changeData(data);\n            },\n            antvG2Text() {\n                this.chart = new G2.Chart({\n                    container: 'c1', // 指定图表容器 ID\n                    width: 600, // 指定图表宽度\n                    height: 300 // 指定图表高度\n                });\n                // Step 2: 载入数据源\n                this.chart.source(this.data);\n                // Step 3：创建图形语法，绘制柱状图，由 genre 和 sold 两个属性决定图形位置，genre 映射至 x 轴，sold 映射至 y 轴\n                this.chart.interval().position('genre*sold').color('genre')\n                // Step 4: 渲染图表\n                this.chart.render();\n            },\n            getGames() {\n                queryAllAdvertReq(this.gameid).then(res => {\n                    if (res.success) {\n                        this.games = res.result[0].records;\n                    }\n                });\n            },\n            download() {\n                let t = this.time;\n                if (this.searchForm.gameid == '' || undefined) {\n                    alert('请选择游戏');\n                    return;\n                }\n                if (this.time[0] == '') {\n                    alert(\"请输入时间\");\n                    return;\n                }\n                let gameid = this.searchForm.gameid,\n                    beginData = this.timeUtil(this.time[0]),\n                    overData = this.timeUtil(this.time[1]);\n                // let url = `https://report.nuojuekeji.com/api/report/generateReport?startDs=${beginData}&endDs=${overData}&gameId=${gameid}`;\n                window.location.href = `https://report.nuojuekeji.com/api/report/generateReport?startDs=${beginData}&endDs=${overData}&gameId=${gameid}`;\n                //\n                // let url = 'https://report.nuojuekeji.com/api/report/generateReport?startDs=2019-11-18&endDs=2019-12-16&gameId=8';\n                // downloadReportReq(url).then(res => {\n                //     debugger\n                //     // const blob = new Blob([response.data]);\n                //     // const fileName = 'user.xls';\n                //     // const linkNode = document.createElement('a');\n                //     //\n                //     // linkNode.download = fileName; //a标签的download属性规定下载文件的名称\n                //     // linkNode.style.display = 'none';\n                //     // linkNode.href = URL.createObjectURL(blob); //生成一个Blob URL\n                //     // document.body.appendChild(linkNode);\n                //     // linkNode.click();  //模拟在按钮上的一次鼠标单击\n                //     //\n                //     // URL.revokeObjectURL(linkNode.href); // 释放URL 对象\n                //     // document.body.removeChild(linkNode);\n                //\n                // });\n            },\n            timeUtil(time) {\n                return time.getFullYear() + \"-\" + (time.getMonth() + 1) + \"-\" + time.getDate();\n            }\n        },\n        mounted() {\n            this.init();\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/views/report/report"}]}