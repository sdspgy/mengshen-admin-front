{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/activity/activity.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/game/activity/activity.vue","mtime":1574332719565},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { showActs as _showActs, changeAct as _changeAct } from \"@/api/index\";\nimport util from \"../../../libs/util\";\nimport BreadcrumbNav from \"../../main-components/breadcrumb-nav\";\nexport default {\n  name: \"showActs\",\n  components: {\n    BreadcrumbNav: BreadcrumbNav\n  },\n  mounted: function mounted() {\n    this.showActs();\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      columns: [{\n        type: \"index\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"activityId\",\n        key: \"activityId\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", params.row.activityId);\n        }\n      }, {\n        title: \"templateId\",\n        key: \"templateId\",\n        width: 100,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", params.row.templateId);\n        }\n      }, {\n        title: \"status\",\n        key: \"status\",\n        width: 200,\n        align: \"center\"\n      }, {\n        title: \"openTime\",\n        key: \"openTime\",\n        width: 200,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", util.Time2DefaultFormat(params.row.openTime));\n        }\n      }, {\n        title: \"endTime\",\n        key: \"endTime\",\n        width: 200,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", util.Time2DefaultFormat(params.row.endTime));\n        }\n      }, {\n        title: \"操作\",\n        key: \"action\",\n        width: 200,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"info\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.openEditDialog(params.row);\n              }\n            }\n          }, \"编辑\"), h(\"Button\", {\n            props: {\n              type: \"error\",\n              size: \"small\"\n            },\n            on: {\n              click: function click() {\n                _this.deleteNotice(params.row.id);\n              }\n            }\n          }, \"删除\")]);\n        }\n      }],\n      activityId: '',\n      templateId: '',\n      activityDuration: [],\n      activities: [],\n      dialogFormVisible: false,\n      disabledDate: {\n        disabledDate: function disabledDate(date) {\n          return date.getTime() < new Date(new Date().toLocaleDateString()).getTime();\n        }\n      }\n    };\n  },\n  methods: {\n    showActs: function showActs() {\n      var _this2 = this;\n\n      _showActs().then(function (res) {\n        if (res.status === 200) {\n          console.log(res.data.activities);\n          _this2.activities = res.data.activities;\n        }\n      });\n    },\n    changeAct: function changeAct() {\n      var _this3 = this;\n\n      _changeAct({\n        activityId: this.activityId,\n        openTime: this.activityDuration[0].getTime(),\n        endTime: this.activityDuration[1].getTime()\n      }).then(function (res) {\n        if (res.status === 200) {\n          console.log(res.data.activities);\n          _this3.activities = res.data.activities;\n        } else {\n          _this3.$Message.error(res.data);\n        }\n\n        _this3.hideDialog();\n      });\n    },\n    hideDialog: function hideDialog() {\n      this.dialogFormVisible = false;\n    },\n    openEditDialog: function openEditDialog(scopeRow) {\n      this.dialogFormVisible = true;\n      this.activityId = scopeRow.activityId;\n      this.templateId = scopeRow.templateId;\n      this.activityDuration.push(new Date(scopeRow.openTime));\n      this.activityDuration.push(new Date(scopeRow.endTime));\n    }\n  }\n};",null]}